<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 PAC07 | FAQ Laboratori de Fonaments de Programació</title>
  <meta name="description" content="FAQ del Laboratori de Fonaments de programació" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="7 PAC07 | FAQ Laboratori de Fonaments de Programació" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="FAQ del Laboratori de Fonaments de programació" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 PAC07 | FAQ Laboratori de Fonaments de Programació" />
  
  <meta name="twitter:description" content="FAQ del Laboratori de Fonaments de programació" />
  

<meta name="author" content="Jordi Blasco Planesas" />


<meta name="date" content="2020-04-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="pac06.html"/>
<link rel="next" href="pac08.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-164643024-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-164643024-1');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><img src="./img/uoc.png" width="100"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introducció</a></li>
<li class="chapter" data-level="1" data-path="pac01.html"><a href="pac01.html"><i class="fa fa-check"></i><b>1</b> PAC01</a>
<ul>
<li class="chapter" data-level="1.1" data-path="pac01.html"><a href="pac01.html#llenguatge-algorismic"><i class="fa fa-check"></i><b>1.1</b> Llenguatge algorísmic</a></li>
<li class="chapter" data-level="1.2" data-path="pac01.html"><a href="pac01.html#llenguatge-algorismic-vs-llenguatge-c"><i class="fa fa-check"></i><b>1.2</b> Llenguatge algorísmic vs llenguatge C</a></li>
<li class="chapter" data-level="1.3" data-path="pac01.html"><a href="pac01.html#equivalencies-llenguatge-algorismic-vs-llenguatge-c"><i class="fa fa-check"></i><b>1.3</b> Equivalències llenguatge algorísmic vs llenguatge C</a></li>
<li class="chapter" data-level="1.4" data-path="pac01.html"><a href="pac01.html#impressio-de-valors-incorrecta"><i class="fa fa-check"></i><b>1.4</b> Impressió de valors incorrecta</a></li>
<li class="chapter" data-level="1.5" data-path="pac01.html"><a href="pac01.html#com-definir-un-enumeratiu"><i class="fa fa-check"></i><b>1.5</b> Com definir un enumeratiu</a></li>
<li class="chapter" data-level="1.6" data-path="pac01.html"><a href="pac01.html#com-utilitzar-un-enumeratiu"><i class="fa fa-check"></i><b>1.6</b> Com utilitzar un enumeratiu</a></li>
<li class="chapter" data-level="1.7" data-path="pac01.html"><a href="pac01.html#especificador-dun-enumeratiu"><i class="fa fa-check"></i><b>1.7</b> Especificador d’un enumeratiu</a></li>
<li class="chapter" data-level="1.8" data-path="pac01.html"><a href="pac01.html#lectura-de-caracters-en-c"><i class="fa fa-check"></i><b>1.8</b> Lectura de caràcters en C</a></li>
<li class="chapter" data-level="1.9" data-path="pac01.html"><a href="pac01.html#lectura-de-float-en-c"><i class="fa fa-check"></i><b>1.9</b> Lectura de float en C</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="pac02.html"><a href="pac02.html"><i class="fa fa-check"></i><b>2</b> PAC02</a>
<ul>
<li class="chapter" data-level="2.1" data-path="pac02.html"><a href="pac02.html#booleans"><i class="fa fa-check"></i><b>2.1</b> Booleans en C</a></li>
<li class="chapter" data-level="2.2" data-path="pac02.html"><a href="pac02.html#booleans-definits-com-a-enumeratius"><i class="fa fa-check"></i><b>2.2</b> Booleans definits com a enumeratius</a></li>
<li class="chapter" data-level="2.3" data-path="pac02.html"><a href="pac02.html#constants-define-vs-const"><i class="fa fa-check"></i><b>2.3</b> Constants: define vs const</a></li>
<li class="chapter" data-level="2.4" data-path="pac02.html"><a href="pac02.html#com-mostrar-el-valor-duna-constant"><i class="fa fa-check"></i><b>2.4</b> Com mostrar el valor d’una constant</a></li>
<li class="chapter" data-level="2.5" data-path="pac02.html"><a href="pac02.html#precisio-en-variables-float"><i class="fa fa-check"></i><b>2.5</b> Precisió en variables float</a></li>
<li class="chapter" data-level="2.6" data-path="pac02.html"><a href="pac02.html#semantica-duna-expressio"><i class="fa fa-check"></i><b>2.6</b> Semàntica d’una expressió</a></li>
<li class="chapter" data-level="2.7" data-path="pac02.html"><a href="pac02.html#exemples-dexpressions"><i class="fa fa-check"></i><b>2.7</b> Exemples d’expressions</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="pac02.html"><a href="pac02.html#exemple-1-esparell"><i class="fa fa-check"></i><b>2.7.1</b> Exemple 1: esParell</a></li>
<li class="chapter" data-level="2.7.2" data-path="pac02.html"><a href="pac02.html#exemple-2-capdesetmana"><i class="fa fa-check"></i><b>2.7.2</b> Exemple 2: capDeSetmana</a></li>
<li class="chapter" data-level="2.7.3" data-path="pac02.html"><a href="pac02.html#exemple-3-esvocal"><i class="fa fa-check"></i><b>2.7.3</b> Exemple 3: esVocal</a></li>
<li class="chapter" data-level="2.7.4" data-path="pac02.html"><a href="pac02.html#exemple-4-votacions"><i class="fa fa-check"></i><b>2.7.4</b> Exemple 4: votacions</a></li>
<li class="chapter" data-level="2.7.5" data-path="pac02.html"><a href="pac02.html#exemple-5-gintonicpreparation"><i class="fa fa-check"></i><b>2.7.5</b> Exemple 5: ginTonicPreparation</a></li>
<li class="chapter" data-level="2.7.6" data-path="pac02.html"><a href="pac02.html#exemple-6-gintonicfreeml"><i class="fa fa-check"></i><b>2.7.6</b> Exemple 6: ginTonicFreeMl</a></li>
<li class="chapter" data-level="2.7.7" data-path="pac02.html"><a href="pac02.html#exemple-7-scoutingbasquet"><i class="fa fa-check"></i><b>2.7.7</b> Exemple 7: scoutingBasquet</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="pac03.html"><a href="pac03.html"><i class="fa fa-check"></i><b>3</b> PAC03</a>
<ul>
<li class="chapter" data-level="3.1" data-path="pac03.html"><a href="pac03.html#com-declarar-un-vector-en-llenguatge-algorismic"><i class="fa fa-check"></i><b>3.1</b> Com declarar un vector en llenguatge algorísmic</a></li>
<li class="chapter" data-level="3.2" data-path="pac03.html"><a href="pac03.html#significat-dels-arguments-del-main"><i class="fa fa-check"></i><b>3.2</b> Significat dels arguments del main</a></li>
<li class="chapter" data-level="3.3" data-path="pac03.html"><a href="pac03.html#assignar-valors-a-un-vector"><i class="fa fa-check"></i><b>3.3</b> Assignar valors a un vector</a></li>
<li class="chapter" data-level="3.4" data-path="pac03.html"><a href="pac03.html#stack-smashing-detected"><i class="fa fa-check"></i><b>3.4</b> Stack smashing detected</a></li>
<li class="chapter" data-level="3.5" data-path="pac03.html"><a href="pac03.html#concatenacio-en-llenguatge-algorismic"><i class="fa fa-check"></i><b>3.5</b> Concatenació en llenguatge algorísmic</a></li>
<li class="chapter" data-level="3.6" data-path="pac03.html"><a href="pac03.html#importancia-dels-tipus-utilitzats-en-llenguatge-c"><i class="fa fa-check"></i><b>3.6</b> Importància dels tipus utilitzats en llenguatge C</a></li>
<li class="chapter" data-level="3.7" data-path="pac03.html"><a href="pac03.html#exemple-notafinal"><i class="fa fa-check"></i><b>3.7</b> Exemple: notaFinal</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="pac04.html"><a href="pac04.html"><i class="fa fa-check"></i><b>4</b> PAC04</a>
<ul>
<li class="chapter" data-level="4.1" data-path="pac04.html"><a href="pac04.html#com-tractar-elements-dun-vector-amb-un-bucle"><i class="fa fa-check"></i><b>4.1</b> Com tractar elements d’un vector amb un bucle</a></li>
<li class="chapter" data-level="4.2" data-path="pac04.html"><a href="pac04.html#entrada-continua-de-valors-amb-un-bucle"><i class="fa fa-check"></i><b>4.2</b> Entrada continua de valors amb un bucle</a></li>
<li class="chapter" data-level="4.3" data-path="pac04.html"><a href="pac04.html#com-tractar-valors-en-multiples-vectors"><i class="fa fa-check"></i><b>4.3</b> Com tractar valors en múltiples vectors</a></li>
<li class="chapter" data-level="4.4" data-path="pac04.html"><a href="pac04.html#definicio-chars-vs-strings"><i class="fa fa-check"></i><b>4.4</b> Definició chars vs strings</a></li>
<li class="chapter" data-level="4.5" data-path="pac04.html"><a href="pac04.html#exemple-mitjanapes"><i class="fa fa-check"></i><b>4.5</b> Exemple: mitjanaPes</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="pac05.html"><a href="pac05.html"><i class="fa fa-check"></i><b>5</b> PAC05</a>
<ul>
<li class="chapter" data-level="5.1" data-path="pac05.html"><a href="pac05.html#comanda-strcmp"><i class="fa fa-check"></i><b>5.1</b> Comanda strcmp()</a></li>
<li class="chapter" data-level="5.2" data-path="pac05.html"><a href="pac05.html#comanda-scanf"><i class="fa fa-check"></i><b>5.2</b> Comanda scanf</a></li>
<li class="chapter" data-level="5.3" data-path="pac05.html"><a href="pac05.html#el-finalitzador-0-i-strcmp"><i class="fa fa-check"></i><b>5.3</b> El finalitzador ‘\0’ i strcmp()</a></li>
<li class="chapter" data-level="5.4" data-path="pac05.html"><a href="pac05.html#el-finalitzador-0-i-strlen"><i class="fa fa-check"></i><b>5.4</b> El finalitzador ‘\0’ i strlen()</a></li>
<li class="chapter" data-level="5.5" data-path="pac05.html"><a href="pac05.html#exemple-comparaciostrings"><i class="fa fa-check"></i><b>5.5</b> Exemple: comparacioStrings</a></li>
<li class="chapter" data-level="5.6" data-path="pac05.html"><a href="pac05.html#exemple-nomines"><i class="fa fa-check"></i><b>5.6</b> Exemple: nòmines</a></li>
<li class="chapter" data-level="5.7" data-path="pac05.html"><a href="pac05.html#exemple-brisca"><i class="fa fa-check"></i><b>5.7</b> Exemple: brisca</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="pac06.html"><a href="pac06.html"><i class="fa fa-check"></i><b>6</b> PAC06</a>
<ul>
<li class="chapter" data-level="6.1" data-path="pac06.html"><a href="pac06.html#diferencies-entre-funcions-i-accions"><i class="fa fa-check"></i><b>6.1</b> Diferències entre funcions i accions</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="pac06.html"><a href="pac06.html#parametres-dentrada-in"><i class="fa fa-check"></i><b>6.1.1</b> Paràmetres d’entrada (in)</a></li>
<li class="chapter" data-level="6.1.2" data-path="pac06.html"><a href="pac06.html#parametres-de-sortida-out"><i class="fa fa-check"></i><b>6.1.2</b> Paràmetres de sortida (out)</a></li>
<li class="chapter" data-level="6.1.3" data-path="pac06.html"><a href="pac06.html#parametres-dentradasortida-inout"><i class="fa fa-check"></i><b>6.1.3</b> Paràmetres d’entrada/sortida (inout)</a></li>
<li class="chapter" data-level="6.1.4" data-path="pac06.html"><a href="pac06.html#tuples-com-a-parametres"><i class="fa fa-check"></i><b>6.1.4</b> Tuples com a paràmetres</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="pac06.html"><a href="pac06.html#exemple-us-daccions"><i class="fa fa-check"></i><b>6.2</b> Exemple: ús d’accions</a></li>
<li class="chapter" data-level="6.3" data-path="pac06.html"><a href="pac06.html#exemple-us-de-funcions"><i class="fa fa-check"></i><b>6.3</b> Exemple: ús de funcions</a></li>
<li class="chapter" data-level="6.4" data-path="pac06.html"><a href="pac06.html#exemple-nomines-1"><i class="fa fa-check"></i><b>6.4</b> Exemple: nòmines</a></li>
<li class="chapter" data-level="6.5" data-path="pac06.html"><a href="pac06.html#exemple-pivotdefensiu"><i class="fa fa-check"></i><b>6.5</b> Exemple: pivotDefensiu</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="pac06.html"><a href="pac06.html#explicacio-sobre-laccio-copiarjugadora"><i class="fa fa-check"></i><b>6.5.1</b> Explicació sobre l’acció copiarJugadora()</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="pac07.html"><a href="pac07.html"><i class="fa fa-check"></i><b>7</b> PAC07</a>
<ul>
<li class="chapter" data-level="7.1" data-path="pac07.html"><a href="pac07.html#quan-utilitzar-dins-de-funcionsaccions"><i class="fa fa-check"></i><b>7.1</b> Quan utilitzar &amp; dins de funcions/accions</a></li>
<li class="chapter" data-level="7.2" data-path="pac07.html"><a href="pac07.html#exemple-com-modular-un-programa-amb-codelite"><i class="fa fa-check"></i><b>7.2</b> Exemple: com modular un programa amb CodeLite</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="pac07.html"><a href="pac07.html#funcionament-per-defecte-dun-projecte-a-codelite"><i class="fa fa-check"></i><b>7.2.1</b> Funcionament per defecte d’un projecte a CodeLite:</a></li>
<li class="chapter" data-level="7.2.2" data-path="pac07.html"><a href="pac07.html#executable-dins-de-bin."><i class="fa fa-check"></i><b>7.2.2</b> Executable dins de /bin.</a></li>
<li class="chapter" data-level="7.2.3" data-path="pac07.html"><a href="pac07.html#modularitzacio-del-programa-en-un-arxiu-de-capcaleres-i-un-de-funcions."><i class="fa fa-check"></i><b>7.2.3</b> Modularització del programa en un arxiu de capçaleres i un de funcions.</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="pac07.html"><a href="pac07.html#tipus-de-parametres-en-accions-i-funcions"><i class="fa fa-check"></i><b>7.3</b> Tipus de paràmetres en accions i funcions</a></li>
<li class="chapter" data-level="7.4" data-path="pac07.html"><a href="pac07.html#scanf-accio-o-funcio"><i class="fa fa-check"></i><b>7.4</b> scanf: acció o funció?</a></li>
<li class="chapter" data-level="7.5" data-path="pac07.html"><a href="pac07.html#pas-per-valor-vs-pas-per-referencia"><i class="fa fa-check"></i><b>7.5</b> Pas per valor vs pas per referència</a></li>
<li class="chapter" data-level="7.6" data-path="pac07.html"><a href="pac07.html#exemple-capgirar"><i class="fa fa-check"></i><b>7.6</b> Exemple: capgirar</a></li>
<li class="chapter" data-level="7.7" data-path="pac07.html"><a href="pac07.html#exemple-funcio-isparell"><i class="fa fa-check"></i><b>7.7</b> Exemple: funció isParell</a></li>
<li class="chapter" data-level="7.8" data-path="pac07.html"><a href="pac07.html#exemple-pivotdefensiutirslliures"><i class="fa fa-check"></i><b>7.8</b> Exemple: pivotDefensiuTirsLliures</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="pac08.html"><a href="pac08.html"><i class="fa fa-check"></i><b>8</b> PAC08</a>
<ul>
<li class="chapter" data-level="8.1" data-path="pac08.html"><a href="pac08.html#com-inicialitzar-una-taula"><i class="fa fa-check"></i><b>8.1</b> Com inicialitzar una taula</a></li>
<li class="chapter" data-level="8.2" data-path="pac08.html"><a href="pac08.html#exemple-calcularnota"><i class="fa fa-check"></i><b>8.2</b> Exemple: calcularNota</a></li>
<li class="chapter" data-level="8.3" data-path="pac08.html"><a href="pac08.html#exemple-calcularnota-amb-introduccio-iterativa"><i class="fa fa-check"></i><b>8.3</b> Exemple: calcularNota amb introducció iterativa</a></li>
<li class="chapter" data-level="8.4" data-path="pac08.html"><a href="pac08.html#exemple-recorregut-vs-cerca"><i class="fa fa-check"></i><b>8.4</b> Exemple: recorregut vs cerca</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="pac09.html"><a href="pac09.html"><i class="fa fa-check"></i><b>9</b> PAC09</a>
<ul>
<li class="chapter" data-level="9.1" data-path="pac09.html"><a href="pac09.html#exemple"><i class="fa fa-check"></i><b>9.1</b> Exemple</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="pac10.html"><a href="pac10.html"><i class="fa fa-check"></i><b>10</b> PAC10</a></li>
<li class="chapter" data-level="11" data-path="pr1.html"><a href="pr1.html"><i class="fa fa-check"></i><b>11</b> PR1</a>
<ul>
<li class="chapter" data-level="11.1" data-path="pr1.html"><a href="pr1.html#mode-menu-vs-mode-test"><i class="fa fa-check"></i><b>11.1</b> Mode menu vs mode test</a></li>
<li class="chapter" data-level="11.2" data-path="pr1.html"><a href="pr1.html#exemple-tupla-dins-de-tupla"><i class="fa fa-check"></i><b>11.2</b> Exemple: tupla dins de tupla</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="pr2.html"><a href="pr2.html"><i class="fa fa-check"></i><b>12</b> PR2</a>
<ul>
<li class="chapter" data-level="12.1" data-path="pr2.html"><a href="pr2.html#exemple-1"><i class="fa fa-check"></i><b>12.1</b> Exemple</a></li>
<li class="chapter" data-level="12.2" data-path="pr2.html"><a href="pr2.html#com-installar-les-guest-additions"><i class="fa fa-check"></i><b>12.2</b> Com instal·lar les Guest Additions</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="altres.html"><a href="altres.html"><i class="fa fa-check"></i><b>13</b> Altres</a>
<ul>
<li class="chapter" data-level="13.1" data-path="altres.html"><a href="altres.html#bilbliografia"><i class="fa fa-check"></i><b>13.1</b> Bilbliografia</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.uoc.edu" target="blank">www.uoc.edu</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">FAQ Laboratori de Fonaments de Programació</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="pac07" class="section level1" number="7">
<h1 number="7"><span class="header-section-number">7</span> PAC07</h1>
<div id="quan-utilitzar-dins-de-funcionsaccions" class="section level2" number="7.1">
<h2 number="7.1"><span class="header-section-number">7.1</span> Quan utilitzar &amp; dins de funcions/accions</h2>
<p>De vegades quan fem crides a <strong>accions</strong> dins d’<strong>accions</strong>, veiem que si passem un paràmetre amb <code>&amp;</code> els resultats no són correctes, però en canvi passant el paràmetre sense l’<code>&amp;</code> tot funciona. I a l’inrevés.</p>
<p>Per tal d’aclarir aquests dubtes he inventat el següent exemple: és un programa senzill que treballa amb tipus <code>tPac</code>. Un element <code>tPac</code> conté dos atributs: un <code>nom</code> (cadena de caràcters) i una <code>nota</code> (decimal). El programa realitza la lectura de valors des de teclat amb l’acció <code>pacRead(...)</code>, la modificació del nom de la pac amb <code>nomToUpperCase(...)</code>, i la seva posterior impressió per pantalla mitjançant <code>pacWrite(...)</code>.</p>
<p>Amb l’objectiu de deixar-ho tot el més clar possible he posat comentaris extensos dins del programa, explicant en cada situació què es fa i per quin motiu.</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb108-1"><a href="pac07.html#cb108-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb108-2"><a href="pac07.html#cb108-2"></a><span class="pp">#include </span><span class="im">&lt;string.h&gt;</span></span>
<span id="cb108-3"><a href="pac07.html#cb108-3"></a></span>
<span id="cb108-4"><a href="pac07.html#cb108-4"></a><span class="co">/* Definició de constants */</span></span>
<span id="cb108-5"><a href="pac07.html#cb108-5"></a><span class="pp">#define MAX_NOM 5+1</span></span>
<span id="cb108-6"><a href="pac07.html#cb108-6"></a></span>
<span id="cb108-7"><a href="pac07.html#cb108-7"></a><span class="co">/* Definició de la tupla tPac */</span></span>
<span id="cb108-8"><a href="pac07.html#cb108-8"></a><span class="kw">typedef</span> <span class="kw">struct</span> {</span>
<span id="cb108-9"><a href="pac07.html#cb108-9"></a>    <span class="dt">char</span> nom[MAX_NOM];</span>
<span id="cb108-10"><a href="pac07.html#cb108-10"></a>    <span class="dt">float</span> nota;</span>
<span id="cb108-11"><a href="pac07.html#cb108-11"></a>} tPac;</span>
<span id="cb108-12"><a href="pac07.html#cb108-12"></a></span>
<span id="cb108-13"><a href="pac07.html#cb108-13"></a><span class="co">/* Predeclaració de funcions i accions */</span></span>
<span id="cb108-14"><a href="pac07.html#cb108-14"></a></span>
<span id="cb108-15"><a href="pac07.html#cb108-15"></a><span class="co">/* Acció que llegeix per teclat els atributs d&#39;un </span></span>
<span id="cb108-16"><a href="pac07.html#cb108-16"></a><span class="co"> * tipus tPac i li assigna els valors. En aquest</span></span>
<span id="cb108-17"><a href="pac07.html#cb108-17"></a><span class="co"> * cas el paràmetre pac és de tipus &#39;out&#39;, donat que </span></span>
<span id="cb108-18"><a href="pac07.html#cb108-18"></a><span class="co"> * el seu valor abans i després d&#39;executar l&#39;acció</span></span>
<span id="cb108-19"><a href="pac07.html#cb108-19"></a><span class="co"> * haurà canviat. A més, com que el valor inicial</span></span>
<span id="cb108-20"><a href="pac07.html#cb108-20"></a><span class="co"> * de pac no ens interessa per res (recordem que</span></span>
<span id="cb108-21"><a href="pac07.html#cb108-21"></a><span class="co"> * l&#39;objectiu d&#39;aquesta acció és llegir de teclat</span></span>
<span id="cb108-22"><a href="pac07.html#cb108-22"></a><span class="co"> * i donar valor a pac, per tant sobreescriurem </span></span>
<span id="cb108-23"><a href="pac07.html#cb108-23"></a><span class="co"> * qualsevol valor previ que tingui), podem </span></span>
<span id="cb108-24"><a href="pac07.html#cb108-24"></a><span class="co"> * descartar que sigui de tipus &#39;inout&#39;.</span></span>
<span id="cb108-25"><a href="pac07.html#cb108-25"></a><span class="co"> * Quan un paràmetre és de tipus out/inout, el </span></span>
<span id="cb108-26"><a href="pac07.html#cb108-26"></a><span class="co"> * passem per referència o, el que és el mateix,</span></span>
<span id="cb108-27"><a href="pac07.html#cb108-27"></a><span class="co"> * passem un punter a un tipus d&#39;element; com </span></span>
<span id="cb108-28"><a href="pac07.html#cb108-28"></a><span class="co"> * es pot veure, aquí pac és un punter a un </span></span>
<span id="cb108-29"><a href="pac07.html#cb108-29"></a><span class="co"> * element de tipus tPac, ja que va precedit per *.</span></span>
<span id="cb108-30"><a href="pac07.html#cb108-30"></a><span class="co"> * Utilitzem un punter perquè és l&#39;única manera</span></span>
<span id="cb108-31"><a href="pac07.html#cb108-31"></a><span class="co"> * que tenim de modificar un element definit</span></span>
<span id="cb108-32"><a href="pac07.html#cb108-32"></a><span class="co"> * fora de l&#39;àmbit de l&#39;acció, des de dins de </span></span>
<span id="cb108-33"><a href="pac07.html#cb108-33"></a><span class="co"> * la pròpia acció.</span></span>
<span id="cb108-34"><a href="pac07.html#cb108-34"></a><span class="co"> */</span></span>
<span id="cb108-35"><a href="pac07.html#cb108-35"></a><span class="dt">void</span> pacRead(tPac *pac);</span>
<span id="cb108-36"><a href="pac07.html#cb108-36"></a></span>
<span id="cb108-37"><a href="pac07.html#cb108-37"></a><span class="co">/* Acció que, donat un tipus tPac, mostra el seu </span></span>
<span id="cb108-38"><a href="pac07.html#cb108-38"></a><span class="co"> * contingut (nom i nota) per pantalla. Aquí el </span></span>
<span id="cb108-39"><a href="pac07.html#cb108-39"></a><span class="co"> * paràmetre pac és de tipus &#39;in&#39;: el seu valor</span></span>
<span id="cb108-40"><a href="pac07.html#cb108-40"></a><span class="co"> * abans i després d&#39;executar l&#39;acció no variarà.</span></span>
<span id="cb108-41"><a href="pac07.html#cb108-41"></a><span class="co"> * Un paràmetre de tipus &#39;in&#39; el passem per valor: </span></span>
<span id="cb108-42"><a href="pac07.html#cb108-42"></a><span class="co"> * en aquest cas és un element de tipus tPac. </span></span>
<span id="cb108-43"><a href="pac07.html#cb108-43"></a><span class="co"> * Com es pot veure, no ha d&#39;anar precedit per *.</span></span>
<span id="cb108-44"><a href="pac07.html#cb108-44"></a><span class="co"> */</span></span>
<span id="cb108-45"><a href="pac07.html#cb108-45"></a><span class="dt">void</span> pacWrite(tPac pac);</span>
<span id="cb108-46"><a href="pac07.html#cb108-46"></a></span>
<span id="cb108-47"><a href="pac07.html#cb108-47"></a><span class="co">/* Acció que, donat un tipus tPac, agafa el seu</span></span>
<span id="cb108-48"><a href="pac07.html#cb108-48"></a><span class="co"> * nom i el passa a majúscules. Per exemple, si</span></span>
<span id="cb108-49"><a href="pac07.html#cb108-49"></a><span class="co"> * el nom és &quot;pAc01&quot; el modificarà a &quot;PAC01&quot;.</span></span>
<span id="cb108-50"><a href="pac07.html#cb108-50"></a><span class="co"> * El paràmetre és de tipus &#39;inout&#39;: el seu valor</span></span>
<span id="cb108-51"><a href="pac07.html#cb108-51"></a><span class="co"> * abans i després d&#39;executar l&#39;acció haurà canviat</span></span>
<span id="cb108-52"><a href="pac07.html#cb108-52"></a><span class="co"> * i a més a més, el valor inicial que té és</span></span>
<span id="cb108-53"><a href="pac07.html#cb108-53"></a><span class="co"> * important, ja que el necessitem per calcular el</span></span>
<span id="cb108-54"><a href="pac07.html#cb108-54"></a><span class="co"> * valor final (&quot;pAc01&quot; --&gt; &quot;PAC01&quot;). En ser un</span></span>
<span id="cb108-55"><a href="pac07.html#cb108-55"></a><span class="co"> * paràmetre de tipus &#39;inout&#39;, passarem el seu</span></span>
<span id="cb108-56"><a href="pac07.html#cb108-56"></a><span class="co"> * valor per referència: necessitem que pugui ser</span></span>
<span id="cb108-57"><a href="pac07.html#cb108-57"></a><span class="co"> * modificat des de dins de l&#39;acció, amb el que</span></span>
<span id="cb108-58"><a href="pac07.html#cb108-58"></a><span class="co"> * és necessari treballar amb un punter a l&#39;element</span></span>
<span id="cb108-59"><a href="pac07.html#cb108-59"></a><span class="co"> * pac, d&#39;aquí que vagi precedit amb *.</span></span>
<span id="cb108-60"><a href="pac07.html#cb108-60"></a><span class="co"> */</span></span>
<span id="cb108-61"><a href="pac07.html#cb108-61"></a><span class="dt">void</span> nomToUpperCase(tPac *pac);</span>
<span id="cb108-62"><a href="pac07.html#cb108-62"></a></span>
<span id="cb108-63"><a href="pac07.html#cb108-63"></a><span class="co">/* Programa principal */</span></span>
<span id="cb108-64"><a href="pac07.html#cb108-64"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb108-65"><a href="pac07.html#cb108-65"></a>    </span>
<span id="cb108-66"><a href="pac07.html#cb108-66"></a>    <span class="co">/* Definim les variables */</span></span>
<span id="cb108-67"><a href="pac07.html#cb108-67"></a>    tPac pac1, pac2, pac3;</span>
<span id="cb108-68"><a href="pac07.html#cb108-68"></a></span>
<span id="cb108-69"><a href="pac07.html#cb108-69"></a>    <span class="co">/* Donem valor als atributs de cadascuna</span></span>
<span id="cb108-70"><a href="pac07.html#cb108-70"></a><span class="co">     * de les 3 PAC. Fixeu-vos que estem passant</span></span>
<span id="cb108-71"><a href="pac07.html#cb108-71"></a><span class="co">     * punters a elements de tipus tPac: el &amp;</span></span>
<span id="cb108-72"><a href="pac07.html#cb108-72"></a><span class="co">     * previ indica que agafem la direcció de </span></span>
<span id="cb108-73"><a href="pac07.html#cb108-73"></a><span class="co">     * memòria on resideix l&#39;element de tipus </span></span>
<span id="cb108-74"><a href="pac07.html#cb108-74"></a><span class="co">     * tPac. Com que passem punters a memòria, </span></span>
<span id="cb108-75"><a href="pac07.html#cb108-75"></a><span class="co">     * des de dins de l&#39;acció podrem modificar</span></span>
<span id="cb108-76"><a href="pac07.html#cb108-76"></a><span class="co">     * el contingut de pac1, pac2 i pac3, tot</span></span>
<span id="cb108-77"><a href="pac07.html#cb108-77"></a><span class="co">     * i que aquestes tres variables han estat</span></span>
<span id="cb108-78"><a href="pac07.html#cb108-78"></a><span class="co">     * definides fora de l&#39;àmbit de l&#39;acció.</span></span>
<span id="cb108-79"><a href="pac07.html#cb108-79"></a><span class="co">     */</span></span>
<span id="cb108-80"><a href="pac07.html#cb108-80"></a>    pacRead(&amp;pac1);</span>
<span id="cb108-81"><a href="pac07.html#cb108-81"></a>    pacRead(&amp;pac2);</span>
<span id="cb108-82"><a href="pac07.html#cb108-82"></a>    pacRead(&amp;pac3);</span>
<span id="cb108-83"><a href="pac07.html#cb108-83"></a>    </span>
<span id="cb108-84"><a href="pac07.html#cb108-84"></a>    <span class="co">/* Mostrem per pantalla els atributs de</span></span>
<span id="cb108-85"><a href="pac07.html#cb108-85"></a><span class="co">     * cadascuna de les 3 PAC. En aquest cas</span></span>
<span id="cb108-86"><a href="pac07.html#cb108-86"></a><span class="co">     * el pas de paràmetres es fa per valor:</span></span>
<span id="cb108-87"><a href="pac07.html#cb108-87"></a><span class="co">     * passem directament els elements de tipus</span></span>
<span id="cb108-88"><a href="pac07.html#cb108-88"></a><span class="co">     * tPac, ja que aquests no seran modificats</span></span>
<span id="cb108-89"><a href="pac07.html#cb108-89"></a><span class="co">     * des de dins de l&#39;acció (són de tipus &#39;in&#39;).</span></span>
<span id="cb108-90"><a href="pac07.html#cb108-90"></a><span class="co">     */</span></span>
<span id="cb108-91"><a href="pac07.html#cb108-91"></a>    pacWrite(pac1);</span>
<span id="cb108-92"><a href="pac07.html#cb108-92"></a>    pacWrite(pac2);</span>
<span id="cb108-93"><a href="pac07.html#cb108-93"></a>    pacWrite(pac3);</span>
<span id="cb108-94"><a href="pac07.html#cb108-94"></a></span>
<span id="cb108-95"><a href="pac07.html#cb108-95"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb108-96"><a href="pac07.html#cb108-96"></a>}</span>
<span id="cb108-97"><a href="pac07.html#cb108-97"></a></span>
<span id="cb108-98"><a href="pac07.html#cb108-98"></a><span class="co">/* Implementació de funcions i accions */</span></span>
<span id="cb108-99"><a href="pac07.html#cb108-99"></a></span>
<span id="cb108-100"><a href="pac07.html#cb108-100"></a><span class="dt">void</span> pacRead(tPac *pac) {</span>
<span id="cb108-101"><a href="pac07.html#cb108-101"></a></span>
<span id="cb108-102"><a href="pac07.html#cb108-102"></a>    <span class="co">/* Llegim des de teclat el valor</span></span>
<span id="cb108-103"><a href="pac07.html#cb108-103"></a><span class="co">     * corresponent al nom de la PAC</span></span>
<span id="cb108-104"><a href="pac07.html#cb108-104"></a><span class="co">     */</span></span>
<span id="cb108-105"><a href="pac07.html#cb108-105"></a>    printf(<span class="st">&quot;Introdueix nom : &quot;</span>);</span>
<span id="cb108-106"><a href="pac07.html#cb108-106"></a>    scanf(<span class="st">&quot;%s&quot;</span>, pac-&gt;nom);</span>
<span id="cb108-107"><a href="pac07.html#cb108-107"></a></span>
<span id="cb108-108"><a href="pac07.html#cb108-108"></a>    <span class="co">/* Llegim des de teclat el valor</span></span>
<span id="cb108-109"><a href="pac07.html#cb108-109"></a><span class="co">     * corresponent a la nota de la PAC</span></span>
<span id="cb108-110"><a href="pac07.html#cb108-110"></a><span class="co">     */</span></span>
<span id="cb108-111"><a href="pac07.html#cb108-111"></a>    printf(<span class="st">&quot;Introdueix nota: &quot;</span>);</span>
<span id="cb108-112"><a href="pac07.html#cb108-112"></a>    scanf(<span class="st">&quot;%f&quot;</span>, &amp;pac-&gt;nota);</span>
<span id="cb108-113"><a href="pac07.html#cb108-113"></a>    </span>
<span id="cb108-114"><a href="pac07.html#cb108-114"></a>    <span class="co">/* Ara arribem en un punt on, dins d&#39;una</span></span>
<span id="cb108-115"><a href="pac07.html#cb108-115"></a><span class="co">     * acció, cridem a un altra acció. Hem de </span></span>
<span id="cb108-116"><a href="pac07.html#cb108-116"></a><span class="co">     * passar com a atribut pac? o bé &amp;pac?. </span></span>
<span id="cb108-117"><a href="pac07.html#cb108-117"></a><span class="co">     * Davant d&#39;aquest dubte, ens hem de </span></span>
<span id="cb108-118"><a href="pac07.html#cb108-118"></a><span class="co">     * preguntar quin tipus de valor conté ara</span></span>
<span id="cb108-119"><a href="pac07.html#cb108-119"></a><span class="co">     * mateix (abans d&#39;executar la següent acció)</span></span>
<span id="cb108-120"><a href="pac07.html#cb108-120"></a><span class="co">     * el paràmetre pac. Si recordem com està </span></span>
<span id="cb108-121"><a href="pac07.html#cb108-121"></a><span class="co">     * definida l&#39;acció pacRead(tPac *pac), pac</span></span>
<span id="cb108-122"><a href="pac07.html#cb108-122"></a><span class="co">     * és un punter a memòria, ja que va precedit</span></span>
<span id="cb108-123"><a href="pac07.html#cb108-123"></a><span class="co">     * per *. Això significa que en aquest precís</span></span>
<span id="cb108-124"><a href="pac07.html#cb108-124"></a><span class="co">     * moment pac continua sent un punter.</span></span>
<span id="cb108-125"><a href="pac07.html#cb108-125"></a><span class="co">     * D&#39;altra banda, si ens fixem amb la definició</span></span>
<span id="cb108-126"><a href="pac07.html#cb108-126"></a><span class="co">     * de l&#39;acció nomToUpperCase(tPac *pac), veiem</span></span>
<span id="cb108-127"><a href="pac07.html#cb108-127"></a><span class="co">     * que també espera rebre un punter. Així com </span></span>
<span id="cb108-128"><a href="pac07.html#cb108-128"></a><span class="co">     * que pac és un punter i nomToUpperCase(...)</span></span>
<span id="cb108-129"><a href="pac07.html#cb108-129"></a><span class="co">     * espera rebre un punter, simplement li passem</span></span>
<span id="cb108-130"><a href="pac07.html#cb108-130"></a><span class="co">     * pac com a paràmetre (i no pas &amp;pac!)</span></span>
<span id="cb108-131"><a href="pac07.html#cb108-131"></a><span class="co">     */</span></span>
<span id="cb108-132"><a href="pac07.html#cb108-132"></a>    nomToUpperCase(pac);</span>
<span id="cb108-133"><a href="pac07.html#cb108-133"></a>    </span>
<span id="cb108-134"><a href="pac07.html#cb108-134"></a>    printf(<span class="st">&quot;----------------------</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb108-135"><a href="pac07.html#cb108-135"></a>}</span>
<span id="cb108-136"><a href="pac07.html#cb108-136"></a></span>
<span id="cb108-137"><a href="pac07.html#cb108-137"></a><span class="dt">void</span> pacWrite(tPac pac) {</span>
<span id="cb108-138"><a href="pac07.html#cb108-138"></a></span>
<span id="cb108-139"><a href="pac07.html#cb108-139"></a>    <span class="co">/* Mostrem per pantalla els valors</span></span>
<span id="cb108-140"><a href="pac07.html#cb108-140"></a><span class="co">     * dels atributs de la PAC</span></span>
<span id="cb108-141"><a href="pac07.html#cb108-141"></a><span class="co">     */</span></span>
<span id="cb108-142"><a href="pac07.html#cb108-142"></a>    printf(<span class="st">&quot;&gt;&gt; %s amb nota %.1f </span><span class="sc">\n</span><span class="st">&quot;</span>, pac.nom, pac.nota);</span>
<span id="cb108-143"><a href="pac07.html#cb108-143"></a>}</span>
<span id="cb108-144"><a href="pac07.html#cb108-144"></a></span>
<span id="cb108-145"><a href="pac07.html#cb108-145"></a><span class="dt">void</span> nomToUpperCase(tPac *pac) {</span>
<span id="cb108-146"><a href="pac07.html#cb108-146"></a>    </span>
<span id="cb108-147"><a href="pac07.html#cb108-147"></a>    <span class="co">/* Hi ha llibreries que ja implementen els canvis</span></span>
<span id="cb108-148"><a href="pac07.html#cb108-148"></a><span class="co">     * a majúscules o minúscules. En aquest cas però</span></span>
<span id="cb108-149"><a href="pac07.html#cb108-149"></a><span class="co">     * hem optat per no utilitzar-ne cap, i implementar-la</span></span>
<span id="cb108-150"><a href="pac07.html#cb108-150"></a><span class="co">     * nosaltres mateixos, tractant l&#39;string nom de pac</span></span>
<span id="cb108-151"><a href="pac07.html#cb108-151"></a><span class="co">     * com a un recorregut caràcter a caràcter.</span></span>
<span id="cb108-152"><a href="pac07.html#cb108-152"></a><span class="co">     */</span></span>
<span id="cb108-153"><a href="pac07.html#cb108-153"></a>    <span class="dt">int</span> i = <span class="dv">0</span>;</span>
<span id="cb108-154"><a href="pac07.html#cb108-154"></a></span>
<span id="cb108-155"><a href="pac07.html#cb108-155"></a>    <span class="cf">for</span> (i = <span class="dv">0</span>; pac-&gt;nom[i] != <span class="ch">&#39;\0&#39;</span>; i++) {</span>
<span id="cb108-156"><a href="pac07.html#cb108-156"></a>        <span class="cf">if</span> (pac-&gt;nom[i] &gt;= <span class="ch">&#39;a&#39;</span> &amp;&amp; pac-&gt;nom[i] &lt;= <span class="ch">&#39;z&#39;</span>) {</span>
<span id="cb108-157"><a href="pac07.html#cb108-157"></a>            pac-&gt;nom[i] = pac-&gt;nom[i] + (<span class="ch">&#39;A&#39;</span> - <span class="ch">&#39;a&#39;</span>);</span>
<span id="cb108-158"><a href="pac07.html#cb108-158"></a>        }</span>
<span id="cb108-159"><a href="pac07.html#cb108-159"></a>    }</span>
<span id="cb108-160"><a href="pac07.html#cb108-160"></a>}</span></code></pre></div>
</div>
<div id="exemple-com-modular-un-programa-amb-codelite" class="section level2" number="7.2">
<h2 number="7.2"><span class="header-section-number">7.2</span> Exemple: com modular un programa amb CodeLite</h2>
<p>A continuació explicaré detalladament com modular el programa típic HelloWorld d’una forma una mica diferent de com s’explica als vídeos, però que crec que pot ser més entenedora. L’explicació és una mica extensa però prefereixo que quedi clar.</p>
<div id="funcionament-per-defecte-dun-projecte-a-codelite" class="section level3" number="7.2.1">
<h3 number="7.2.1"><span class="header-section-number">7.2.1</span> Funcionament per defecte d’un projecte a CodeLite:</h3>
<p>Quan a CodeLite creem un nou projecte, per exemple <code>Modularitat</code>, amb el típic <code>main.c</code> inicial que conté el programa <code>HelloWorld</code>, tenim la següent distribució d’arxius</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb109-1"><a href="pac07.html#cb109-1"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat$ ls -l</span>
<span id="cb109-2"><a href="pac07.html#cb109-2"></a>total <span class="dv">12</span></span>
<span id="cb109-3"><a href="pac07.html#cb109-3"></a>-rw-r--r-- <span class="dv">1</span> uoc uoc   <span class="dv">93</span> nov <span class="dv">17</span> <span class="dv">23</span>:<span class="dv">56</span> main.c</span>
<span id="cb109-4"><a href="pac07.html#cb109-4"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc <span class="dv">4274</span> nov <span class="dv">17</span> <span class="dv">23</span>:<span class="dv">56</span> Modularitat.project</span></code></pre></div>
<p>Si compilem aquest programa a CodeLite, veiem que ens ha generat una carpeta nova anomenada <code>Debug</code>:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb110-1"><a href="pac07.html#cb110-1"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat$ ls -l</span>
<span id="cb110-2"><a href="pac07.html#cb110-2"></a>total <span class="dv">24</span></span>
<span id="cb110-3"><a href="pac07.html#cb110-3"></a>drwxrwxr-x <span class="dv">2</span> uoc uoc <span class="dv">4096</span> nov <span class="dv">17</span> <span class="dv">23</span>:<span class="dv">58</span> Debug</span>
<span id="cb110-4"><a href="pac07.html#cb110-4"></a>-rw-r--r-- <span class="dv">1</span> uoc uoc   <span class="dv">93</span> nov <span class="dv">17</span> <span class="dv">23</span>:<span class="dv">56</span> main.c</span>
<span id="cb110-5"><a href="pac07.html#cb110-5"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc <span class="dv">3249</span> nov <span class="dv">17</span> <span class="dv">23</span>:<span class="dv">58</span> Modularitat.mk</span>
<span id="cb110-6"><a href="pac07.html#cb110-6"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc <span class="dv">4274</span> nov <span class="dv">17</span> <span class="dv">23</span>:<span class="dv">56</span> Modularitat.project</span>
<span id="cb110-7"><a href="pac07.html#cb110-7"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc   <span class="dv">17</span> nov <span class="dv">17</span> <span class="dv">23</span>:<span class="dv">58</span> Modularitat.txt</span>
<span id="cb110-8"><a href="pac07.html#cb110-8"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat$</span></code></pre></div>
<p>El contingut de la carpeta <code>Debug</code> és programa executable final juntament amb els arxius objecte intermitjos:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb111-1"><a href="pac07.html#cb111-1"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat$ cd Debug</span>
<span id="cb111-2"><a href="pac07.html#cb111-2"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat/Debug$ ls -l</span>
<span id="cb111-3"><a href="pac07.html#cb111-3"></a>total <span class="dv">24</span></span>
<span id="cb111-4"><a href="pac07.html#cb111-4"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc <span class="dv">4620</span> nov <span class="dv">17</span> <span class="dv">23</span>:<span class="dv">58</span> main.c.o</span>
<span id="cb111-5"><a href="pac07.html#cb111-5"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc   <span class="dv">23</span> nov <span class="dv">17</span> <span class="dv">23</span>:<span class="dv">58</span> main.c.o.d</span>
<span id="cb111-6"><a href="pac07.html#cb111-6"></a>-rwxrwxr-x <span class="dv">1</span> uoc uoc <span class="dv">9708</span> nov <span class="dv">17</span> <span class="dv">23</span>:<span class="dv">58</span> Modularitat</span>
<span id="cb111-7"><a href="pac07.html#cb111-7"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat/Debug$</span></code></pre></div>
<p>Si es vol, des d’un terminal de Lubuntu es pot executar el programa resultant <code>Modularitat</code> de la següent forma:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb112-1"><a href="pac07.html#cb112-1"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat/Debug$ ./Modularitat</span>
<span id="cb112-2"><a href="pac07.html#cb112-2"></a>hello world</span>
<span id="cb112-3"><a href="pac07.html#cb112-3"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat/Debug$</span></code></pre></div>
</div>
<div id="executable-dins-de-bin." class="section level3" number="7.2.2">
<h3 number="7.2.2"><span class="header-section-number">7.2.2</span> Executable dins de /bin.</h3>
<p>Anem ara a modificar CodeLite per tal que l’executable ens el guardi sempre dins de la carpeta <code>./bin</code>.</p>
<p>El primer video comenta com canviar la carpeta on es desa l’arxiu executable resultant de compilar el nostre programa. L’objectiu és que en comptes d’utilitzar la carpeta <code>./Debug</code> l’arxiu executable es desi dins de la nova carpeta <code>./bin</code></p>
<p>Atenció: aquest apartat no es demana explícitament a la PAC07 (únicament es parla de les carpetes <code>./src</code> i <code>./include</code>), amb el que no cal aplicar-ho a la PAC.</p>
<p>Per fer aquest canvi, fem clic botó dret del ratolí sobre el nom del projecte, <strong>Modularitat</strong> -&gt; <strong>Settings…</strong> -&gt; <strong>General</strong> -&gt; <strong>Output File</strong>: hi posem el valor <code>./bin/$(ProjectName)</code>. Això significa que l’executable es desarà dins de la carpeta <code>./bin</code> i que el seu nom serà el mateix que el nom del projecte (en el cas que tractem, s’anomenarà <code>Modularitat</code>)</p>
<p>A més, sense sortir d’aquesta mateixa pantalla, canviem el valor del <strong>Working Directory</strong> per : <code>./bin</code>. Aquest valor és el que té en consideració CodeLite a l’hora de buscar l’executable del projecte, per quan fem el <code>Run</code>.</p>
<p>Guardem els canvis i si ara compilem novament el programa, veiem que ha creat la carpeta <code>./bin</code> dins del nostre projecte:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb113-1"><a href="pac07.html#cb113-1"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat$ ls -l</span>
<span id="cb113-2"><a href="pac07.html#cb113-2"></a>total <span class="dv">28</span></span>
<span id="cb113-3"><a href="pac07.html#cb113-3"></a>drwxrwxr-x <span class="dv">2</span> uoc uoc <span class="dv">4096</span> nov <span class="dv">18</span> <span class="bn">00</span>:<span class="dv">11</span> bin</span>
<span id="cb113-4"><a href="pac07.html#cb113-4"></a>drwxrwxr-x <span class="dv">2</span> uoc uoc <span class="dv">4096</span> nov <span class="dv">17</span> <span class="dv">23</span>:<span class="dv">58</span> Debug</span>
<span id="cb113-5"><a href="pac07.html#cb113-5"></a>-rw-r--r-- <span class="dv">1</span> uoc uoc   <span class="dv">93</span> nov <span class="dv">17</span> <span class="dv">23</span>:<span class="dv">56</span> main.c</span>
<span id="cb113-6"><a href="pac07.html#cb113-6"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc <span class="dv">3230</span> nov <span class="dv">18</span> <span class="bn">00</span>:<span class="dv">11</span> Modularitat.mk</span>
<span id="cb113-7"><a href="pac07.html#cb113-7"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc <span class="dv">4350</span> nov <span class="dv">18</span> <span class="bn">00</span>:<span class="dv">10</span> Modularitat.project</span>
<span id="cb113-8"><a href="pac07.html#cb113-8"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc   <span class="dv">17</span> nov <span class="dv">18</span> <span class="bn">00</span>:<span class="dv">11</span> Modularitat.txt</span>
<span id="cb113-9"><a href="pac07.html#cb113-9"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat$ </span></code></pre></div>
<p>Igual que en el cas anterior, si volem podem executar el programa des del propi terminal:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb114-1"><a href="pac07.html#cb114-1"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat$ cd ./bin</span>
<span id="cb114-2"><a href="pac07.html#cb114-2"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat/bin$ ls -l</span>
<span id="cb114-3"><a href="pac07.html#cb114-3"></a>total <span class="dv">12</span></span>
<span id="cb114-4"><a href="pac07.html#cb114-4"></a>-rwxrwxr-x <span class="dv">1</span> uoc uoc <span class="dv">9708</span> nov <span class="dv">18</span> <span class="bn">00</span>:<span class="dv">11</span> Modularitat</span>
<span id="cb114-5"><a href="pac07.html#cb114-5"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat/bin$ ./Modularitat </span>
<span id="cb114-6"><a href="pac07.html#cb114-6"></a>hello world</span>
<span id="cb114-7"><a href="pac07.html#cb114-7"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat/bin$</span></code></pre></div>
<p>A partir d’aquest moment, sempre que compilem el nostre programa, guardarà l’executable dins de la carpeta <code>./bin</code>.</p>
</div>
<div id="modularitzacio-del-programa-en-un-arxiu-de-capcaleres-i-un-de-funcions." class="section level3" number="7.2.3">
<h3 number="7.2.3"><span class="header-section-number">7.2.3</span> Modularització del programa en un arxiu de capçaleres i un de funcions.</h3>
<p>Centraré ara l’explicació amb l’estructura que es demana a la PAC07 i treballant sobre el mateix exemple <code>Modularitat</code>.</p>
<p>El que volem aconseguir és la següent estructura:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb115-1"><a href="pac07.html#cb115-1"></a>projecte Modularitat</span>
<span id="cb115-2"><a href="pac07.html#cb115-2"></a>   |</span>
<span id="cb115-3"><a href="pac07.html#cb115-3"></a>   |-- /include/</span>
<span id="cb115-4"><a href="pac07.html#cb115-4"></a>   |     |</span>
<span id="cb115-5"><a href="pac07.html#cb115-5"></a>   |     \-- helloWorld.h</span>
<span id="cb115-6"><a href="pac07.html#cb115-6"></a>   |</span>
<span id="cb115-7"><a href="pac07.html#cb115-7"></a>   \-- /src/</span>
<span id="cb115-8"><a href="pac07.html#cb115-8"></a>         |</span>
<span id="cb115-9"><a href="pac07.html#cb115-9"></a>         |-- helloWorld.c</span>
<span id="cb115-10"><a href="pac07.html#cb115-10"></a>         \-- main.c</span></code></pre></div>
<p>L’objectiu és dividir (modularitzar) l’arxiu únic <code>main.c</code> que tenim fins ara en tres arxius:</p>
<ul>
<li><code>helloWorld.h</code> : aquest arxiu contindrà la predeclaració de totes les funcions i accions del nostre programa, així com la definició de tots els tipus necessaris (enumeratius, tuples, etc) i constants que requereixi el nostre programa C. Aquest arxiu l’ubicarem dins de la carpeta <code>./include</code> del nostre projecte</li>
<li><code>helloWorld.c</code> : dins d’ell s’implementaran totes les accions i funcions del programa. Bàsicament contindrà el codi de tot allò que hem predeclarat a l’arxiu <code>helloWorld.h</code>.</li>
<li><code>main.c</code> : contindrà el codi del programa principal, identificat per la funció <code>main()</code>.</li>
</ul>
<p>El primer pas que podem fer és crear les dues carpetes que necessitarà el nostre projecte modularitzat, <code>src</code> i <code>include</code> :</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb116-1"><a href="pac07.html#cb116-1"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat$ mkdir src</span>
<span id="cb116-2"><a href="pac07.html#cb116-2"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat$ mkdir include</span>
<span id="cb116-3"><a href="pac07.html#cb116-3"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat$ ls -l</span>
<span id="cb116-4"><a href="pac07.html#cb116-4"></a>total <span class="dv">36</span></span>
<span id="cb116-5"><a href="pac07.html#cb116-5"></a>drwxrwxr-x <span class="dv">2</span> uoc uoc <span class="dv">4096</span> nov <span class="dv">18</span> <span class="bn">00</span>:<span class="dv">14</span> bin</span>
<span id="cb116-6"><a href="pac07.html#cb116-6"></a>drwxrwxr-x <span class="dv">2</span> uoc uoc <span class="dv">4096</span> nov <span class="dv">18</span> <span class="bn">00</span>:<span class="dv">14</span> Debug</span>
<span id="cb116-7"><a href="pac07.html#cb116-7"></a>drwxrwxr-x <span class="dv">2</span> uoc uoc <span class="dv">4096</span> nov <span class="dv">18</span> <span class="bn">00</span>:<span class="dv">18</span> include</span>
<span id="cb116-8"><a href="pac07.html#cb116-8"></a>-rw-r--r-- <span class="dv">1</span> uoc uoc   <span class="dv">93</span> nov <span class="dv">17</span> <span class="dv">23</span>:<span class="dv">56</span> main.c</span>
<span id="cb116-9"><a href="pac07.html#cb116-9"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc <span class="dv">3230</span> nov <span class="dv">18</span> <span class="bn">00</span>:<span class="dv">14</span> Modularitat.mk</span>
<span id="cb116-10"><a href="pac07.html#cb116-10"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc <span class="dv">4350</span> nov <span class="dv">18</span> <span class="bn">00</span>:<span class="dv">10</span> Modularitat.project</span>
<span id="cb116-11"><a href="pac07.html#cb116-11"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc   <span class="dv">17</span> nov <span class="dv">18</span> <span class="bn">00</span>:<span class="dv">14</span> Modularitat.txt</span>
<span id="cb116-12"><a href="pac07.html#cb116-12"></a>drwxrwxr-x <span class="dv">2</span> uoc uoc <span class="dv">4096</span> nov <span class="dv">18</span> <span class="bn">00</span>:<span class="dv">18</span> src</span>
<span id="cb116-13"><a href="pac07.html#cb116-13"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat$ </span></code></pre></div>
<p>El següent pas és transformar el programa <code>HelloWorld</code> típic en un programa modularitzat: per aquest motiu ens cal la definició d’algunes funcions o accions que ens permetin separar un únic arxiu en un de capçaleres (<code>helloWorld.h</code>), un d’implementació de funcions/accions (<code>helloWorld.c</code>) i un principal (<code>main.c</code>). Per tant, l’objectiu és passar del següent programa… :</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb117-1"><a href="pac07.html#cb117-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb117-2"><a href="pac07.html#cb117-2"></a></span>
<span id="cb117-3"><a href="pac07.html#cb117-3"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb117-4"><a href="pac07.html#cb117-4"></a>    printf(<span class="st">&quot;hello world</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb117-5"><a href="pac07.html#cb117-5"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb117-6"><a href="pac07.html#cb117-6"></a>}</span></code></pre></div>
<p>… al següent codi modularitzat:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb118-1"><a href="pac07.html#cb118-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb118-2"><a href="pac07.html#cb118-2"></a></span>
<span id="cb118-3"><a href="pac07.html#cb118-3"></a><span class="co">/* Predeclaració de les funcions/accions */</span></span>
<span id="cb118-4"><a href="pac07.html#cb118-4"></a><span class="dt">void</span> showHelloMessage();</span>
<span id="cb118-5"><a href="pac07.html#cb118-5"></a></span>
<span id="cb118-6"><a href="pac07.html#cb118-6"></a><span class="co">/* Codi principal */</span></span>
<span id="cb118-7"><a href="pac07.html#cb118-7"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb118-8"><a href="pac07.html#cb118-8"></a>    showHelloMessage();</span>
<span id="cb118-9"><a href="pac07.html#cb118-9"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb118-10"><a href="pac07.html#cb118-10"></a>}</span>
<span id="cb118-11"><a href="pac07.html#cb118-11"></a></span>
<span id="cb118-12"><a href="pac07.html#cb118-12"></a><span class="co">/* Implementació de les funcions/accions */</span></span>
<span id="cb118-13"><a href="pac07.html#cb118-13"></a><span class="dt">void</span> showHelloMessage() {</span>
<span id="cb118-14"><a href="pac07.html#cb118-14"></a>    printf(<span class="st">&quot;hello world</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb118-15"><a href="pac07.html#cb118-15"></a>};</span></code></pre></div>
<p>Si s’executa el nou codi dins d’un únic main.c, aquest seguirà mostrant correctament el missatge de “hello world”. L’objectiu és acabant-lo dividint en tres blocs:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb119-1"><a href="pac07.html#cb119-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb119-2"><a href="pac07.html#cb119-2"></a></span>
<span id="cb119-3"><a href="pac07.html#cb119-3"></a><span class="co">/* Inici contingut de l’arxiu helloWorld.h */</span></span>
<span id="cb119-4"><a href="pac07.html#cb119-4"></a><span class="co">/* Predeclaració de les funcions/accions */</span></span>
<span id="cb119-5"><a href="pac07.html#cb119-5"></a><span class="dt">void</span> showHelloMessage();</span>
<span id="cb119-6"><a href="pac07.html#cb119-6"></a><span class="co">/* Fi contingut de l’arxiu helloWorld.h */</span></span>
<span id="cb119-7"><a href="pac07.html#cb119-7"></a></span>
<span id="cb119-8"><a href="pac07.html#cb119-8"></a><span class="co">/* Inici contingut de l’arxiu main.c */</span></span>
<span id="cb119-9"><a href="pac07.html#cb119-9"></a><span class="co">/* Codi principal */</span></span>
<span id="cb119-10"><a href="pac07.html#cb119-10"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb119-11"><a href="pac07.html#cb119-11"></a>    showHelloMessage();</span>
<span id="cb119-12"><a href="pac07.html#cb119-12"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb119-13"><a href="pac07.html#cb119-13"></a>}</span>
<span id="cb119-14"><a href="pac07.html#cb119-14"></a><span class="co">/* Fi contingut de l’arxiu main.c */</span></span>
<span id="cb119-15"><a href="pac07.html#cb119-15"></a></span>
<span id="cb119-16"><a href="pac07.html#cb119-16"></a><span class="co">/* Inici contingut de l’arxiu helloWorld.c */</span></span>
<span id="cb119-17"><a href="pac07.html#cb119-17"></a><span class="co">/* Implementació de les funcions/accions */</span></span>
<span id="cb119-18"><a href="pac07.html#cb119-18"></a><span class="dt">void</span> showHelloMessage() {</span>
<span id="cb119-19"><a href="pac07.html#cb119-19"></a>    printf(<span class="st">&quot;hello world</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb119-20"><a href="pac07.html#cb119-20"></a>};</span>
<span id="cb119-21"><a href="pac07.html#cb119-21"></a><span class="co">/* Fi contingut de l’arxiu helloWorld.c */</span></span></code></pre></div>
<p>El primer pas que farem serà eliminar des de CodeLite el programa vell; per tant, <strong>CodeLite</strong> -&gt; projecte <strong>Modularitat</strong> -&gt; <strong>src</strong> -&gt; botó dret sobre el nom de l’arxiu <code>main.c</code> -&gt; <strong>Remove</strong> -&gt; confirmem l’esborrat -&gt; confirmem l’esborrat de l’arxiu <code>main.c</code> del disc.</p>
<p>En aquest punt, a CodeLite, dins del projecte <code>Modularitat</code> únicament hi tenim una carpeta virtual anomenada <code>src</code>. Atenció: la carpeta virtual anomenada <code>src</code> del nostre projecte de CodeLite en aquests moments no té cap relació amb la carpeta <code>./src</code> que hem creat fa un moment.</p>
<p>Creem el programa principal main.c fent: <strong>CodeLite</strong> -&gt; projecte <strong>Modularitat</strong> -&gt; botó dret sobre carpeta <strong>src</strong> -&gt; <strong>Add New File</strong> -&gt; seleccionem el tipus <strong>C Source File (.c)</strong> -&gt; indiquem com a <strong>Name</strong>: <code>main.c</code>, i com a <strong>Location</strong> seleccionem la carpeta <code>./src</code> que hem creat abans.</p>
<p>Anem a crear el segon arxiu, <code>helloWorld.c</code>, exactament de la mateixa forma: <strong>CodeLite</strong> -&gt; projecte <strong>Modularitat</strong> -&gt; botó dret sobre carpeta <strong>src</strong> -&gt; <strong>Add New File</strong> -&gt; seleccionem el tipus <strong>C Source File (.c)</strong> -&gt; indiquem com a <strong>Name</strong>: <code>helloWorld.c</code>, i com a <strong>Location</strong> seleccionem la carpeta <code>./src</code> creada anteriorment.</p>
<p>Creem ara una carpeta virtual dins del nostre projecte amb <strong>CodeLite</strong> -&gt; botó dret sobre el projecte <strong>Modularitat</strong> -&gt; <strong>New Virtual Folder</strong> -&gt; li posem per nom: <code>include</code></p>
<p>Per finalitzar, creem el tercer arxiu requerit: <code>helloWorld.h</code>. Els passos seran: <strong>CodeLite</strong> -&gt; projecte <strong>Modularitat</strong> -&gt; botó dret sobre carpeta <strong>include</strong> -&gt; <strong>Add New File</strong> -&gt; seleccionem el tipus <strong>Header File (.h)</strong> -&gt; indiquem com a <strong>Name</strong>: <code>helloWorld.h</code>, i com a <strong>Location</strong> seleccionem la carpeta <code>./include</code> creada anteriorment.</p>
<p>En aquest punt el nostre projecte <code>Modularitat</code> a CodeLite tindrà l’estructura desitjada:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb120-1"><a href="pac07.html#cb120-1"></a>projecte Modularitat</span>
<span id="cb120-2"><a href="pac07.html#cb120-2"></a>   |</span>
<span id="cb120-3"><a href="pac07.html#cb120-3"></a>   |-- /include/</span>
<span id="cb120-4"><a href="pac07.html#cb120-4"></a>   |     |</span>
<span id="cb120-5"><a href="pac07.html#cb120-5"></a>   |     \-- helloWorld.h</span>
<span id="cb120-6"><a href="pac07.html#cb120-6"></a>   |</span>
<span id="cb120-7"><a href="pac07.html#cb120-7"></a>   \-- /src/</span>
<span id="cb120-8"><a href="pac07.html#cb120-8"></a>         |</span>
<span id="cb120-9"><a href="pac07.html#cb120-9"></a>         |-- helloWorld.c</span>
<span id="cb120-10"><a href="pac07.html#cb120-10"></a>         \-- main.c</span></code></pre></div>
<p>Ara només cal donar contingut als 3 arxius buits que hem creat.</p>
<p>Comencem per l’arxiu de capçaleres <code>helloWorld.h</code>. L’editem com ho fem habitualment a CodeLite, i li copiem el fragment de codi que hem dit abans que li corresponia:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb121-1"><a href="pac07.html#cb121-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb121-2"><a href="pac07.html#cb121-2"></a></span>
<span id="cb121-3"><a href="pac07.html#cb121-3"></a><span class="co">/* Predeclaració de les funcions/accions */</span></span>
<span id="cb121-4"><a href="pac07.html#cb121-4"></a><span class="dt">void</span> showHelloMessage();</span>
<span id="cb121-5"><a href="pac07.html#cb121-5"></a></span>
<span id="cb121-6"><a href="pac07.html#cb121-6"></a>Editem l’arxiu helloWorld.c i li afegim el codi corresponent:</span>
<span id="cb121-7"><a href="pac07.html#cb121-7"></a></span>
<span id="cb121-8"><a href="pac07.html#cb121-8"></a><span class="co">/* Implementació de les funcions/accions */</span></span>
<span id="cb121-9"><a href="pac07.html#cb121-9"></a><span class="dt">void</span> showHelloMessage() {</span>
<span id="cb121-10"><a href="pac07.html#cb121-10"></a>    printf(<span class="st">&quot;hello world</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb121-11"><a href="pac07.html#cb121-11"></a>};</span></code></pre></div>
<p>I per finalitzar editem el contingut de l’arxiu <code>main.c</code> amb el codi comentat anteriorment:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb122-1"><a href="pac07.html#cb122-1"></a><span class="co">/* Codi principal */</span></span>
<span id="cb122-2"><a href="pac07.html#cb122-2"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb122-3"><a href="pac07.html#cb122-3"></a>    showHelloMessage();</span>
<span id="cb122-4"><a href="pac07.html#cb122-4"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb122-5"><a href="pac07.html#cb122-5"></a>}</span></code></pre></div>
<p>En aquest punt tenim el programa modularitzat, però ens falta dues qüestions:</p>
<ul>
<li>Configurar CodeLite per tal que tingui presents on buscar l’arxiu de capçaleres .h quan hi fem referència.</li>
<li>Fer que els arxius estiguin enllaçats entre ells: ara mateix són completament independents.</li>
</ul>
<p>Anem pel primer punt: per indicar a CodeLite on trobarà tots els arxius .h d’un programa, només cal fer <strong>CodeLite</strong> -&gt; clic botó dret sobre <strong>Modularitat</strong> -&gt; <strong>Settings…</strong> -&gt; <strong>Compiler</strong> -&gt; dins de l’opció <strong>Include Paths</strong> afegir el valor <code>.;./include</code></p>
<p>Pel segon punt: tenim que l’arxiu <code>main.c</code> en aquests moments fa referència a una acció anomenada <code>showHelloMessage()</code>, de la qual no en sabem res. El que ens cal és importar l’arxiu de capçaleres; com que és un arxiu que hem creat nosaltres, l’<code>include</code> va entre cometes dobles:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb123-1"><a href="pac07.html#cb123-1"></a><span class="pp">#include </span><span class="im">&quot;helloWorld.h&quot;</span></span>
<span id="cb123-2"><a href="pac07.html#cb123-2"></a></span>
<span id="cb123-3"><a href="pac07.html#cb123-3"></a><span class="co">/* Codi principal */</span></span>
<span id="cb123-4"><a href="pac07.html#cb123-4"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb123-5"><a href="pac07.html#cb123-5"></a>    showHelloMessage();</span>
<span id="cb123-6"><a href="pac07.html#cb123-6"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb123-7"><a href="pac07.html#cb123-7"></a>}</span></code></pre></div>
<p>El següent pas serà afegir l’include habitual de la llibreria <code>stdio.h</code> dins de l’arxiu <code>helloWorld.c</code>, ja que en ell utilitzem la funció <code>printf</code> (inclosa en aquesta llibreria):</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb124-1"><a href="pac07.html#cb124-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb124-2"><a href="pac07.html#cb124-2"></a></span>
<span id="cb124-3"><a href="pac07.html#cb124-3"></a><span class="co">/* Implementació de les funcions/accions */</span></span>
<span id="cb124-4"><a href="pac07.html#cb124-4"></a><span class="dt">void</span> showHelloMessage() {</span>
<span id="cb124-5"><a href="pac07.html#cb124-5"></a>    printf(<span class="st">&quot;hello world</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb124-6"><a href="pac07.html#cb124-6"></a>};</span></code></pre></div>
<p>En aquest punt ja podem executar el nostre programa modularitzat correctament.</p>
<p>L’estructura resultant i el contingut de cada carpeta és el desitjat:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb125-1"><a href="pac07.html#cb125-1"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat$ ls -l ./bin</span>
<span id="cb125-2"><a href="pac07.html#cb125-2"></a>total <span class="dv">12</span></span>
<span id="cb125-3"><a href="pac07.html#cb125-3"></a>-rwxrwxr-x <span class="dv">1</span> uoc uoc <span class="dv">10172</span> nov <span class="dv">18</span> <span class="bn">01</span>:<span class="er">09</span> Modularitat</span>
<span id="cb125-4"><a href="pac07.html#cb125-4"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat$ ls -l ./include/</span>
<span id="cb125-5"><a href="pac07.html#cb125-5"></a>total <span class="dv">4</span></span>
<span id="cb125-6"><a href="pac07.html#cb125-6"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc <span class="dv">70</span> nov <span class="dv">18</span> <span class="bn">00</span>:<span class="dv">54</span> helloWorld.h</span>
<span id="cb125-7"><a href="pac07.html#cb125-7"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat$ ls -l ./src</span>
<span id="cb125-8"><a href="pac07.html#cb125-8"></a>total <span class="dv">8</span></span>
<span id="cb125-9"><a href="pac07.html#cb125-9"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc <span class="dv">122</span> nov <span class="dv">18</span> <span class="bn">01</span>:<span class="er">09</span> helloWorld.c</span>
<span id="cb125-10"><a href="pac07.html#cb125-10"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc <span class="dv">113</span> nov <span class="dv">18</span> <span class="bn">01</span>:<span class="bn">07</span> main.c</span>
<span id="cb125-11"><a href="pac07.html#cb125-11"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat$ ls -l ./Debug/</span>
<span id="cb125-12"><a href="pac07.html#cb125-12"></a>total <span class="dv">20</span></span>
<span id="cb125-13"><a href="pac07.html#cb125-13"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc <span class="dv">4544</span> nov <span class="dv">18</span> <span class="bn">01</span>:<span class="er">09</span> src_helloWorld.c.o</span>
<span id="cb125-14"><a href="pac07.html#cb125-14"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc   <span class="dv">43</span> nov <span class="dv">18</span> <span class="bn">01</span>:<span class="er">09</span> src_helloWorld.c.o.d</span>
<span id="cb125-15"><a href="pac07.html#cb125-15"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc <span class="dv">2440</span> nov <span class="dv">18</span> <span class="bn">01</span>:<span class="er">09</span> src_main.c.o</span>
<span id="cb125-16"><a href="pac07.html#cb125-16"></a>-rw-rw-r-- <span class="dv">1</span> uoc uoc   <span class="dv">75</span> nov <span class="dv">18</span> <span class="bn">01</span>:<span class="er">09</span> src_main.c.o.d</span>
<span id="cb125-17"><a href="pac07.html#cb125-17"></a>uoc@fp:~/Documents/codelite/workspaces/Test/Modularitat$ </span></code></pre></div>
<p>Ni per la realització d’aquest exemple ni per la PAC07 cal crear llibreries pròpies, amb el que aquest punt no el comento: únicament tractarem amb arxius de capçalera <code>.h</code>, arxius d’implementació <code>.c</code>, i l’arxiu corresponent al codi principal <code>main.c</code>.</p>
</div>
</div>
<div id="tipus-de-parametres-en-accions-i-funcions" class="section level2" number="7.3">
<h2 number="7.3"><span class="header-section-number">7.3</span> Tipus de paràmetres en accions i funcions</h2>
<p>En les <strong>accions</strong> els paràmetres poden ser de tipus <strong>in</strong>, <strong>out</strong> o <strong>inout</strong>. Cal especificar-ho en el moment de definir l’acció al nostre algorisme.</p>
<p>Exemple: tres formes d’implementar una suma de dos enters amb diferents accions segons els tipus <strong>in</strong>, <strong>out</strong> o <strong>inout</strong> dels paràmetres:</p>
<p>
<img src="img/alg.png" style="float:left; padding:10px" />
</p>
<pre><code>action suma1(in num1: integer, in num2: integer)
    var
        resultat: integer;
    end var

    resultat := num1 + num2;
    writeString(&quot;Resultat de la suma = &quot;);
    writeInteger(resultat);
end action

action suma2(in num1: integer, in num2: integer, out resultat: integer)
    resultat := num1 + num2;
end action

action suma3(inout num1: integer, in num2: integer)
    num1 := num1 + num2;
end action</code></pre>
<p>A les funcions en canvi tots els paràmetres són d’entrada, amb el que no cal indicar l’<strong>in</strong>.</p>
<p>Exemple:</p>
<p>
<img src="img/alg.png" style="float:left; padding:10px" />
</p>
<pre><code>function suma4(num1: integer, num2: integer): integer
    var
        resultat: integer;
    end var

    resultat := num1 + num2;
    return resultat;
end function</code></pre>
</div>
<div id="scanf-accio-o-funcio" class="section level2" number="7.4">
<h2 number="7.4"><span class="header-section-number">7.4</span> scanf: acció o funció?</h2>
<p>El que ens indica la signatura de <code>scanf</code> és que estem davant d’una funció:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb128-1"><a href="pac07.html#cb128-1"></a><span class="dt">int</span> scanf(<span class="dt">const</span> <span class="dt">char</span> *format, type* var1, ...);</span></code></pre></div>
<p>El segon argument no és de tipus <strong>out</strong>, ja que el que li passem no és la variable que guardarà el valor llegit, sinó el punter a la variable que guardarà el valor llegit, i aquest punter no varia en cap moment.</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb129-1"><a href="pac07.html#cb129-1"></a><span class="co">/* Per exemple, el valor de &amp;numero és 0xbfb86c40 */</span></span>
<span id="cb129-2"><a href="pac07.html#cb129-2"></a>scanf(<span class="st">&quot;%d&quot;</span>, &amp;numero)</span>
<span id="cb129-3"><a href="pac07.html#cb129-3"></a><span class="co">/* una vegada executada la funció scanf, el valor de &amp;numero continua sent 0xbfb86c40 */</span></span></code></pre></div>
<p>La funció <code>scanf</code> com a tal retorna un valor, tot i que nosaltres no l’utilitzem (retorna el número d’elements processats correctament). Dit d’una altra forma: que una funció retorni un valor no ens obliga a recuperar-lo i tractar-lo, tot i que habitualment sí que ho farem.</p>
<p>D’altra banda, el fet de definir un paràmetre d’una funció/acció com a <code>const</code> significa que aquest paràmetre dins de l’acció/funció es comportarà com a una constant. Per tant dins de l’àmbit de la funció/acció no es podrà modificar.</p>
<p>Aquest fet ens pot interessar o no. Per exemple, imagina que creem la següent funció per sumar dos enters:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb130-1"><a href="pac07.html#cb130-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb130-2"><a href="pac07.html#cb130-2"></a></span>
<span id="cb130-3"><a href="pac07.html#cb130-3"></a><span class="co">/* Predeclaració de funcions/acions */</span></span>
<span id="cb130-4"><a href="pac07.html#cb130-4"></a><span class="dt">int</span> suma(<span class="dt">int</span> numA, <span class="dt">int</span> numB);</span>
<span id="cb130-5"><a href="pac07.html#cb130-5"></a></span>
<span id="cb130-6"><a href="pac07.html#cb130-6"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb130-7"><a href="pac07.html#cb130-7"></a>    <span class="dt">int</span> a = <span class="dv">10</span>;</span>
<span id="cb130-8"><a href="pac07.html#cb130-8"></a>    <span class="dt">int</span> b = <span class="dv">13</span>;</span>
<span id="cb130-9"><a href="pac07.html#cb130-9"></a></span>
<span id="cb130-10"><a href="pac07.html#cb130-10"></a>    <span class="dt">int</span> resultat = suma(a, b);</span>
<span id="cb130-11"><a href="pac07.html#cb130-11"></a>    printf(<span class="st">&quot;Resultat: %d + %d = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, a, b, resultat);</span>
<span id="cb130-12"><a href="pac07.html#cb130-12"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb130-13"><a href="pac07.html#cb130-13"></a>}</span>
<span id="cb130-14"><a href="pac07.html#cb130-14"></a></span>
<span id="cb130-15"><a href="pac07.html#cb130-15"></a><span class="co">/* Implementació de funcions/accions */</span></span>
<span id="cb130-16"><a href="pac07.html#cb130-16"></a><span class="dt">int</span> suma(<span class="dt">int</span> numA, <span class="dt">int</span> numB) {</span>
<span id="cb130-17"><a href="pac07.html#cb130-17"></a>    numA = numA + numB;</span>
<span id="cb130-18"><a href="pac07.html#cb130-18"></a>    <span class="cf">return</span> (numA);</span>
<span id="cb130-19"><a href="pac07.html#cb130-19"></a>}</span></code></pre></div>
<p>Dins de l’àmbit de la funció, ens interessa per exemple que el paràmetre <code>numA</code> sigui constant? No, ja que si ho definim d’aquesta forma la compilació ens fallarà:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb131-1"><a href="pac07.html#cb131-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb131-2"><a href="pac07.html#cb131-2"></a></span>
<span id="cb131-3"><a href="pac07.html#cb131-3"></a><span class="co">/* Predeclaració de funcions/acions */</span></span>
<span id="cb131-4"><a href="pac07.html#cb131-4"></a><span class="dt">int</span> suma(<span class="dt">const</span> <span class="dt">int</span> numA, <span class="dt">int</span> numB);</span>
<span id="cb131-5"><a href="pac07.html#cb131-5"></a></span>
<span id="cb131-6"><a href="pac07.html#cb131-6"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb131-7"><a href="pac07.html#cb131-7"></a>    <span class="dt">int</span> a = <span class="dv">10</span>;</span>
<span id="cb131-8"><a href="pac07.html#cb131-8"></a>    <span class="dt">int</span> b = <span class="dv">13</span>;</span>
<span id="cb131-9"><a href="pac07.html#cb131-9"></a></span>
<span id="cb131-10"><a href="pac07.html#cb131-10"></a>    <span class="dt">int</span> resultat = suma(a, b);</span>
<span id="cb131-11"><a href="pac07.html#cb131-11"></a>    printf(<span class="st">&quot;Resultat: %d + %d = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, a, b, resultat);</span>
<span id="cb131-12"><a href="pac07.html#cb131-12"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb131-13"><a href="pac07.html#cb131-13"></a>}</span>
<span id="cb131-14"><a href="pac07.html#cb131-14"></a></span>
<span id="cb131-15"><a href="pac07.html#cb131-15"></a><span class="co">/* Implementació de funcions/accions */</span></span>
<span id="cb131-16"><a href="pac07.html#cb131-16"></a><span class="dt">int</span> suma(<span class="dt">const</span> <span class="dt">int</span> numA, <span class="dt">int</span> numB) {</span>
<span id="cb131-17"><a href="pac07.html#cb131-17"></a>    numA = numA + numB;</span>
<span id="cb131-18"><a href="pac07.html#cb131-18"></a>    <span class="cf">return</span> (numA);</span>
<span id="cb131-19"><a href="pac07.html#cb131-19"></a>}</span></code></pre></div>
<p>L’error que obtindrem en intentar compilar el programa serà <em>“error: assignment of read-only parameter ‘numA’”</em>, ja que dins de la funció suma estem modificant el valor de <code>numA</code>.</p>
<p>Molt important: que dins de la funció modifiquem el valor de <code>numA</code> no significa que fora de l’àmbit de la funció el valor de la variable a variï (ho podem comprovar al printf que es fa posteriorment).</p>
<p>Per tant l’ús de const en un paràmetre s’hauria de limitar a aquells valors que s’hagin de tractar realment com a constants: per exemple, si passem la constant PI = 3.14159… com a paràmetre, dins de la funció segur que no tenim la necessitat de modificar aquesta constant matemàtica, amb el que en aquest cas és més adient utilitzar const en el paràmetre de la funció.</p>
<p>Com a darrer punt, no s’ha de confondre el fet de definir un paràmetre d’una funció com a <code>const</code>, a fer que fora de l’àmbit de la funció el paràmetre corresponent es defineixi com a constant:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb132-1"><a href="pac07.html#cb132-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb132-2"><a href="pac07.html#cb132-2"></a></span>
<span id="cb132-3"><a href="pac07.html#cb132-3"></a><span class="co">/* Predeclaració de funcions/acions */</span></span>
<span id="cb132-4"><a href="pac07.html#cb132-4"></a><span class="dt">int</span> suma(<span class="dt">int</span> numA, <span class="dt">int</span> numB);</span>
<span id="cb132-5"><a href="pac07.html#cb132-5"></a></span>
<span id="cb132-6"><a href="pac07.html#cb132-6"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb132-7"><a href="pac07.html#cb132-7"></a>    <span class="dt">const</span> <span class="dt">int</span> a = <span class="dv">10</span>;</span>
<span id="cb132-8"><a href="pac07.html#cb132-8"></a>    <span class="dt">int</span> b = <span class="dv">13</span>;</span>
<span id="cb132-9"><a href="pac07.html#cb132-9"></a></span>
<span id="cb132-10"><a href="pac07.html#cb132-10"></a>    <span class="dt">int</span> resultat = suma(a, b);</span>
<span id="cb132-11"><a href="pac07.html#cb132-11"></a>    printf(<span class="st">&quot;Resultat: %d + %d = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, a, b, resultat);</span>
<span id="cb132-12"><a href="pac07.html#cb132-12"></a></span>
<span id="cb132-13"><a href="pac07.html#cb132-13"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb132-14"><a href="pac07.html#cb132-14"></a>}</span>
<span id="cb132-15"><a href="pac07.html#cb132-15"></a></span>
<span id="cb132-16"><a href="pac07.html#cb132-16"></a><span class="co">/* Implementació de funcions/accions */</span></span>
<span id="cb132-17"><a href="pac07.html#cb132-17"></a><span class="dt">int</span> suma(<span class="dt">int</span> numA, <span class="dt">int</span> numB) {</span>
<span id="cb132-18"><a href="pac07.html#cb132-18"></a>    numA = numA + numB;</span>
<span id="cb132-19"><a href="pac07.html#cb132-19"></a>    <span class="cf">return</span> (numA);</span>
<span id="cb132-20"><a href="pac07.html#cb132-20"></a>}</span></code></pre></div>
<p>En aquest cas quan compilem no obtindrem cap error, ja que la variable a és una constant fora de la funció <code>suma</code>, però el seu valor passat com a paràmetre dins de la funció no és una constant.</p>
</div>
<div id="pas-per-valor-vs-pas-per-referencia" class="section level2" number="7.5">
<h2 number="7.5"><span class="header-section-number">7.5</span> Pas per valor vs pas per referència</h2>
<p>El clàssic <strong>pas per valor</strong> correspon als paràmetres de tipus <strong>in</strong>, en els quals passem la variable/valor.</p>
<p>D’altra banda el <strong>pas per referència</strong> consisteix en passar com a paràmetre de tipus <strong>out</strong> o <strong>inout</strong> la direcció de memòria de la variable (punter).</p>
</div>
<div id="exemple-capgirar" class="section level2" number="7.6">
<h2 number="7.6"><span class="header-section-number">7.6</span> Exemple: capgirar</h2>
<p>Imagina que tenim una tupla <code>tParaula</code> la qual té dos camps:</p>
<ul>
<li><code>cadena</code> : conté l’string amb el valor de la tParaula</li>
<li><code>numeroCaractersCadena</code> : conté el número de caracters de la cadena</li>
</ul>
<p>Implementem l’acció capgirar, la qual fa dues operacions:</p>
<ul>
<li>Capgira el camp cadena de la <code>tParaula</code>; per exemple, si entrem “Fonaments” el resultat serà “stnemanoF”.</li>
<li>Calcula el valor de <code>numeroCaractersCadena</code>; si tenim com a cadena “Fonaments”, el valor serà 9.</li>
</ul>
<p>Volem que per teclat es demani el valor pel camp cadena de dues <code>tParaula</code>, i en cadascuna d’aquestes dues <code>tParaula</code> volem aplicar l’acció capgirar. Una possible forma d’implementar-ho tot plegat seria la següent:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb133-1"><a href="pac07.html#cb133-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb133-2"><a href="pac07.html#cb133-2"></a><span class="pp">#include </span><span class="im">&lt;string.h&gt;</span></span>
<span id="cb133-3"><a href="pac07.html#cb133-3"></a><span class="pp">#include </span><span class="im">&lt;stdbool.h&gt;</span></span>
<span id="cb133-4"><a href="pac07.html#cb133-4"></a></span>
<span id="cb133-5"><a href="pac07.html#cb133-5"></a><span class="pp">#define MAX_CHAR 20+1</span></span>
<span id="cb133-6"><a href="pac07.html#cb133-6"></a><span class="pp">#define MAX_PARAULES 2</span></span>
<span id="cb133-7"><a href="pac07.html#cb133-7"></a></span>
<span id="cb133-8"><a href="pac07.html#cb133-8"></a><span class="kw">typedef</span> <span class="kw">struct</span> {</span>
<span id="cb133-9"><a href="pac07.html#cb133-9"></a>    <span class="dt">char</span> cadena[MAX_CHAR];</span>
<span id="cb133-10"><a href="pac07.html#cb133-10"></a>    <span class="dt">int</span> numeroCaractersCadena;</span>
<span id="cb133-11"><a href="pac07.html#cb133-11"></a>} tParaula;</span>
<span id="cb133-12"><a href="pac07.html#cb133-12"></a></span>
<span id="cb133-13"><a href="pac07.html#cb133-13"></a><span class="co">/* Predeclaració de l&#39;acció.</span></span>
<span id="cb133-14"><a href="pac07.html#cb133-14"></a><span class="co"> * Aquesta acció reb un paràmetre inout de tipus tParaula,</span></span>
<span id="cb133-15"><a href="pac07.html#cb133-15"></a><span class="co"> * el qual capgira el camp cadena, i calcula el valor</span></span>
<span id="cb133-16"><a href="pac07.html#cb133-16"></a><span class="co"> * corresponent pel camp numeroCaractersCadena </span></span>
<span id="cb133-17"><a href="pac07.html#cb133-17"></a><span class="co"> */</span></span>
<span id="cb133-18"><a href="pac07.html#cb133-18"></a><span class="dt">void</span> capgirar(tParaula *mot);</span>
<span id="cb133-19"><a href="pac07.html#cb133-19"></a></span>
<span id="cb133-20"><a href="pac07.html#cb133-20"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb133-21"><a href="pac07.html#cb133-21"></a>    <span class="dt">int</span> i = <span class="dv">0</span>;</span>
<span id="cb133-22"><a href="pac07.html#cb133-22"></a>    </span>
<span id="cb133-23"><a href="pac07.html#cb133-23"></a>    <span class="co">/* Introduim per teclat un total de MAX_PARAULES */</span></span>
<span id="cb133-24"><a href="pac07.html#cb133-24"></a>    <span class="cf">for</span> (i = <span class="dv">0</span>; i &lt; MAX_PARAULES; i++) {</span>
<span id="cb133-25"><a href="pac07.html#cb133-25"></a>        tParaula paraula;</span>
<span id="cb133-26"><a href="pac07.html#cb133-26"></a>    </span>
<span id="cb133-27"><a href="pac07.html#cb133-27"></a>        printf(<span class="st">&quot;Introdueix una paraula : &quot;</span>);</span>
<span id="cb133-28"><a href="pac07.html#cb133-28"></a>        scanf(<span class="st">&quot;%s&quot;</span>, paraula.cadena);</span>
<span id="cb133-29"><a href="pac07.html#cb133-29"></a>    </span>
<span id="cb133-30"><a href="pac07.html#cb133-30"></a>        capgirar(&amp;paraula);</span>
<span id="cb133-31"><a href="pac07.html#cb133-31"></a>        printf(<span class="st">&quot;La paraula capgirada és : %s, de %d lletres.</span><span class="sc">\n</span><span class="st">&quot;</span>, paraula.cadena, paraula.numeroCaractersCadena);</span>
<span id="cb133-32"><a href="pac07.html#cb133-32"></a>    }</span>
<span id="cb133-33"><a href="pac07.html#cb133-33"></a>}</span>
<span id="cb133-34"><a href="pac07.html#cb133-34"></a></span>
<span id="cb133-35"><a href="pac07.html#cb133-35"></a><span class="co">/* Implementació de l&#39;acció */</span></span>
<span id="cb133-36"><a href="pac07.html#cb133-36"></a><span class="dt">void</span> capgirar(tParaula *mot) {</span>
<span id="cb133-37"><a href="pac07.html#cb133-37"></a>    </span>
<span id="cb133-38"><a href="pac07.html#cb133-38"></a>    <span class="dt">int</span> i;</span>
<span id="cb133-39"><a href="pac07.html#cb133-39"></a>    tParaula motCapgirat;</span>
<span id="cb133-40"><a href="pac07.html#cb133-40"></a>    <span class="dt">int</span> midaMot = strlen(mot-&gt;cadena);</span>
<span id="cb133-41"><a href="pac07.html#cb133-41"></a> </span>
<span id="cb133-42"><a href="pac07.html#cb133-42"></a>    <span class="cf">for</span> (i=<span class="dv">0</span>; i&lt;midaMot; i++ ) {</span>
<span id="cb133-43"><a href="pac07.html#cb133-43"></a>        motCapgirat.cadena[(midaMot-<span class="dv">1</span>)-i] = mot-&gt;cadena[i];</span>
<span id="cb133-44"><a href="pac07.html#cb133-44"></a>    }</span>
<span id="cb133-45"><a href="pac07.html#cb133-45"></a>    </span>
<span id="cb133-46"><a href="pac07.html#cb133-46"></a>    <span class="co">/* Indiquem el finalitzador de l&#39;string */</span></span>
<span id="cb133-47"><a href="pac07.html#cb133-47"></a>    motCapgirat.cadena[midaMot] =<span class="ch">&#39;\0&#39;</span>;</span>
<span id="cb133-48"><a href="pac07.html#cb133-48"></a>    </span>
<span id="cb133-49"><a href="pac07.html#cb133-49"></a>    strcpy(mot-&gt;cadena, motCapgirat.cadena);</span>
<span id="cb133-50"><a href="pac07.html#cb133-50"></a>    mot-&gt;numeroCaractersCadena = midaMot;</span>
<span id="cb133-51"><a href="pac07.html#cb133-51"></a>}</span></code></pre></div>
<p>L’acció només rep un paràmetre <code>tParaula</code>, no pas dos. Però com que el que volem és executar-lo per cada <code>tParaula</code> introduida per teclat, repetim la crida dues vegades dins del bucle (una per cada <code>tParaula</code>).</p>
</div>
<div id="exemple-funcio-isparell" class="section level2" number="7.7">
<h2 number="7.7"><span class="header-section-number">7.7</span> Exemple: funció isParell</h2>
<p>Exemple de funció que retorna un booleà:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb134-1"><a href="pac07.html#cb134-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb134-2"><a href="pac07.html#cb134-2"></a><span class="pp">#include </span><span class="im">&lt;stdbool.h&gt;</span></span>
<span id="cb134-3"><a href="pac07.html#cb134-3"></a></span>
<span id="cb134-4"><a href="pac07.html#cb134-4"></a><span class="co">/* Predeclaració de la funció isParell, la qual retorna un</span></span>
<span id="cb134-5"><a href="pac07.html#cb134-5"></a><span class="co"> * booleà que indica si el número passat per paràmetre és</span></span>
<span id="cb134-6"><a href="pac07.html#cb134-6"></a><span class="co"> * parell (true) o no (false). </span></span>
<span id="cb134-7"><a href="pac07.html#cb134-7"></a><span class="co"> */</span></span>
<span id="cb134-8"><a href="pac07.html#cb134-8"></a><span class="dt">bool</span> isParell(<span class="dt">int</span> numero);</span>
<span id="cb134-9"><a href="pac07.html#cb134-9"></a></span>
<span id="cb134-10"><a href="pac07.html#cb134-10"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb134-11"><a href="pac07.html#cb134-11"></a>    <span class="dt">int</span> numero;</span>
<span id="cb134-12"><a href="pac07.html#cb134-12"></a>    </span>
<span id="cb134-13"><a href="pac07.html#cb134-13"></a>    printf(<span class="st">&quot;Tecleja un número : &quot;</span>);</span>
<span id="cb134-14"><a href="pac07.html#cb134-14"></a>    scanf(<span class="st">&quot;%d&quot;</span>, &amp;numero);</span>
<span id="cb134-15"><a href="pac07.html#cb134-15"></a></span>
<span id="cb134-16"><a href="pac07.html#cb134-16"></a>    <span class="cf">if</span> (!isParell(numero)) {</span>
<span id="cb134-17"><a href="pac07.html#cb134-17"></a>        printf(<span class="st">&quot;El número %d és senar.</span><span class="sc">\n</span><span class="st">&quot;</span>, numero);</span>
<span id="cb134-18"><a href="pac07.html#cb134-18"></a>    } <span class="cf">else</span> {</span>
<span id="cb134-19"><a href="pac07.html#cb134-19"></a>        printf(<span class="st">&quot;El número %d és parell.</span><span class="sc">\n</span><span class="st">&quot;</span>, numero);</span>
<span id="cb134-20"><a href="pac07.html#cb134-20"></a>    }</span>
<span id="cb134-21"><a href="pac07.html#cb134-21"></a>}</span>
<span id="cb134-22"><a href="pac07.html#cb134-22"></a></span>
<span id="cb134-23"><a href="pac07.html#cb134-23"></a><span class="co">/* Implementació de la funció */</span></span>
<span id="cb134-24"><a href="pac07.html#cb134-24"></a><span class="dt">bool</span> isParell(<span class="dt">int</span> numero) {</span>
<span id="cb134-25"><a href="pac07.html#cb134-25"></a>    <span class="cf">if</span> (numero % <span class="dv">2</span> == <span class="dv">0</span>) {</span>
<span id="cb134-26"><a href="pac07.html#cb134-26"></a>        <span class="cf">return</span> true;</span>
<span id="cb134-27"><a href="pac07.html#cb134-27"></a>    } <span class="cf">else</span> {</span>
<span id="cb134-28"><a href="pac07.html#cb134-28"></a>        <span class="cf">return</span> false;</span>
<span id="cb134-29"><a href="pac07.html#cb134-29"></a>    }</span>
<span id="cb134-30"><a href="pac07.html#cb134-30"></a>}</span></code></pre></div>
</div>
<div id="exemple-pivotdefensiutirslliures" class="section level2" number="7.8">
<h2 number="7.8"><span class="header-section-number">7.8</span> Exemple: pivotDefensiuTirsLliures</h2>
<p>S’afegeix a l’exemple de les jugadores de bàsquet un nou factor de comparació: en cas d’empat de les comparacions anteriors, escollirem la que tingui un millor percentatge de tirs lliures.</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb135-1"><a href="pac07.html#cb135-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb135-2"><a href="pac07.html#cb135-2"></a><span class="pp">#include </span><span class="im">&lt;string.h&gt;</span></span>
<span id="cb135-3"><a href="pac07.html#cb135-3"></a><span class="pp">#include </span><span class="im">&lt;stdbool.h&gt;</span></span>
<span id="cb135-4"><a href="pac07.html#cb135-4"></a></span>
<span id="cb135-5"><a href="pac07.html#cb135-5"></a><span class="co">/* Rebem una petició d&#39;un equip femení de bàsquet,</span></span>
<span id="cb135-6"><a href="pac07.html#cb135-6"></a><span class="co"> * en el qual ens demanen un programa que els permeti</span></span>
<span id="cb135-7"><a href="pac07.html#cb135-7"></a><span class="co"> * seleccionar la millor pivot defensiu d&#39;entre una </span></span>
<span id="cb135-8"><a href="pac07.html#cb135-8"></a><span class="co"> * sèrie de candidates.</span></span>
<span id="cb135-9"><a href="pac07.html#cb135-9"></a><span class="co"> * La millor pivot defensiu és aquella que captura</span></span>
<span id="cb135-10"><a href="pac07.html#cb135-10"></a><span class="co"> * més rebots; en cas d&#39;empat, s&#39;escollirà la que</span></span>
<span id="cb135-11"><a href="pac07.html#cb135-11"></a><span class="co"> * faci més taps. En cas d&#39;empat ens interessarà</span></span>
<span id="cb135-12"><a href="pac07.html#cb135-12"></a><span class="co"> * escollir la que tingui millor percentatge</span></span>
<span id="cb135-13"><a href="pac07.html#cb135-13"></a><span class="co"> * de tirs lliures.</span></span>
<span id="cb135-14"><a href="pac07.html#cb135-14"></a><span class="co"> * Caldrà implementar 3 accions i 2 funcions:</span></span>
<span id="cb135-15"><a href="pac07.html#cb135-15"></a><span class="co"> * - acció llegirJugadora(j): llegeix de teclat i</span></span>
<span id="cb135-16"><a href="pac07.html#cb135-16"></a><span class="co"> *   guarda tots els atributs de la jugadora a la</span></span>
<span id="cb135-17"><a href="pac07.html#cb135-17"></a><span class="co"> *   tupla j.</span></span>
<span id="cb135-18"><a href="pac07.html#cb135-18"></a><span class="co"> * - acció mostrarJugadora(j): mostra per pantalla</span></span>
<span id="cb135-19"><a href="pac07.html#cb135-19"></a><span class="co"> *   el valor dels atributs de la tupla j.</span></span>
<span id="cb135-20"><a href="pac07.html#cb135-20"></a><span class="co"> * - acció copiarJugadores(j1, j2): copia el valor</span></span>
<span id="cb135-21"><a href="pac07.html#cb135-21"></a><span class="co"> *   de tots els atributs de j2 cap a j1.</span></span>
<span id="cb135-22"><a href="pac07.html#cb135-22"></a><span class="co"> * - funció compararJugadores(j1, j2): retorna -1 en </span></span>
<span id="cb135-23"><a href="pac07.html#cb135-23"></a><span class="co"> *   cas que la millor pivot sigui j1, i 1 en cas </span></span>
<span id="cb135-24"><a href="pac07.html#cb135-24"></a><span class="co"> *   que la millor sigui j2.</span></span>
<span id="cb135-25"><a href="pac07.html#cb135-25"></a><span class="co"> * - funció percentatgeTirsLliures(intentats, encertats):</span></span>
<span id="cb135-26"><a href="pac07.html#cb135-26"></a><span class="co"> *   retorna el percentatge de tirs lliures en funció</span></span>
<span id="cb135-27"><a href="pac07.html#cb135-27"></a><span class="co"> *   dels valors passats per paràmetre.</span></span>
<span id="cb135-28"><a href="pac07.html#cb135-28"></a><span class="co"> */</span></span>
<span id="cb135-29"><a href="pac07.html#cb135-29"></a> </span>
<span id="cb135-30"><a href="pac07.html#cb135-30"></a><span class="pp">#define MAX_NOM 20+1</span></span>
<span id="cb135-31"><a href="pac07.html#cb135-31"></a><span class="pp">#define MAX_COGNOM 20+1</span></span>
<span id="cb135-32"><a href="pac07.html#cb135-32"></a><span class="pp">#define MAX_JUGADORES 3</span></span>
<span id="cb135-33"><a href="pac07.html#cb135-33"></a></span>
<span id="cb135-34"><a href="pac07.html#cb135-34"></a><span class="kw">typedef</span> <span class="kw">struct</span> {</span>
<span id="cb135-35"><a href="pac07.html#cb135-35"></a>    <span class="dt">char</span> nom[MAX_NOM];</span>
<span id="cb135-36"><a href="pac07.html#cb135-36"></a>    <span class="dt">char</span> cognom[MAX_COGNOM];</span>
<span id="cb135-37"><a href="pac07.html#cb135-37"></a>    <span class="dt">float</span> rebots;</span>
<span id="cb135-38"><a href="pac07.html#cb135-38"></a>    <span class="dt">float</span> taps;</span>
<span id="cb135-39"><a href="pac07.html#cb135-39"></a>    <span class="dt">float</span> tirsLliures; <span class="co">/* en percentatge */</span></span>
<span id="cb135-40"><a href="pac07.html#cb135-40"></a>} tJugadora;</span>
<span id="cb135-41"><a href="pac07.html#cb135-41"></a></span>
<span id="cb135-42"><a href="pac07.html#cb135-42"></a><span class="co">/* Predeclaracions */</span></span>
<span id="cb135-43"><a href="pac07.html#cb135-43"></a><span class="dt">void</span> llegirJugadora(tJugadora *j);</span>
<span id="cb135-44"><a href="pac07.html#cb135-44"></a><span class="dt">void</span> mostrarJugadora(tJugadora j);</span>
<span id="cb135-45"><a href="pac07.html#cb135-45"></a><span class="dt">void</span> copiarJugadora(tJugadora *desti, tJugadora origen);</span>
<span id="cb135-46"><a href="pac07.html#cb135-46"></a><span class="dt">int</span> compararJugadores(tJugadora j1, tJugadora j2);</span>
<span id="cb135-47"><a href="pac07.html#cb135-47"></a><span class="dt">float</span> percentatgeTirsLliures(<span class="dt">int</span> intentats, <span class="dt">int</span> encertats);</span>
<span id="cb135-48"><a href="pac07.html#cb135-48"></a></span>
<span id="cb135-49"><a href="pac07.html#cb135-49"></a><span class="co">/* Programa principal */</span></span>
<span id="cb135-50"><a href="pac07.html#cb135-50"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb135-51"><a href="pac07.html#cb135-51"></a>    tJugadora vJugadores[MAX_JUGADORES];</span>
<span id="cb135-52"><a href="pac07.html#cb135-52"></a>    <span class="dt">int</span> i, resultat;</span>
<span id="cb135-53"><a href="pac07.html#cb135-53"></a></span>
<span id="cb135-54"><a href="pac07.html#cb135-54"></a>    <span class="co">/* Es crea la tJugadora fictícia </span></span>
<span id="cb135-55"><a href="pac07.html#cb135-55"></a><span class="co">     * millorPivot que ens ajudarà a trobar </span></span>
<span id="cb135-56"><a href="pac07.html#cb135-56"></a><span class="co">     * la millor opció d&#39;entre totes les </span></span>
<span id="cb135-57"><a href="pac07.html#cb135-57"></a><span class="co">     * candidates</span></span>
<span id="cb135-58"><a href="pac07.html#cb135-58"></a><span class="co">     */</span></span>
<span id="cb135-59"><a href="pac07.html#cb135-59"></a>    tJugadora millorPivot;    </span>
<span id="cb135-60"><a href="pac07.html#cb135-60"></a>    millorPivot.rebots = <span class="dv">0</span>;</span>
<span id="cb135-61"><a href="pac07.html#cb135-61"></a>    millorPivot.taps = <span class="dv">0</span>;</span>
<span id="cb135-62"><a href="pac07.html#cb135-62"></a>    millorPivot.tirsLliures = <span class="fl">0.0</span>;</span>
<span id="cb135-63"><a href="pac07.html#cb135-63"></a></span>
<span id="cb135-64"><a href="pac07.html#cb135-64"></a>    <span class="co">/* Llegim totes les jugadores amb </span></span>
<span id="cb135-65"><a href="pac07.html#cb135-65"></a><span class="co">     * l&#39;acció llegirJugadora(). Aquesta</span></span>
<span id="cb135-66"><a href="pac07.html#cb135-66"></a><span class="co">     * acció rep un paràmetre de sortida</span></span>
<span id="cb135-67"><a href="pac07.html#cb135-67"></a><span class="co">     * (out), el qual contindrà la </span></span>
<span id="cb135-68"><a href="pac07.html#cb135-68"></a><span class="co">     * jugadora llegit per teclat. Com que</span></span>
<span id="cb135-69"><a href="pac07.html#cb135-69"></a><span class="co">     * es tracta d&#39;un paràmetre de tipus </span></span>
<span id="cb135-70"><a href="pac07.html#cb135-70"></a><span class="co">     * out, es realitzarà un pas per </span></span>
<span id="cb135-71"><a href="pac07.html#cb135-71"></a><span class="co">     * referència (= passarem un punter)</span></span>
<span id="cb135-72"><a href="pac07.html#cb135-72"></a><span class="co">     */</span></span>
<span id="cb135-73"><a href="pac07.html#cb135-73"></a>    <span class="cf">for</span> (i=<span class="dv">0</span>; i&lt;MAX_JUGADORES; i++) {</span>
<span id="cb135-74"><a href="pac07.html#cb135-74"></a>        tJugadora jugadora;</span>
<span id="cb135-75"><a href="pac07.html#cb135-75"></a>        llegirJugadora(&amp;jugadora);</span>
<span id="cb135-76"><a href="pac07.html#cb135-76"></a>        vJugadores[i] = jugadora;</span>
<span id="cb135-77"><a href="pac07.html#cb135-77"></a>    }</span>
<span id="cb135-78"><a href="pac07.html#cb135-78"></a>    </span>
<span id="cb135-79"><a href="pac07.html#cb135-79"></a>    <span class="co">/* Mostrem per pantalla quina</span></span>
<span id="cb135-80"><a href="pac07.html#cb135-80"></a><span class="co">     * és la millor jugadora amb perfil</span></span>
<span id="cb135-81"><a href="pac07.html#cb135-81"></a><span class="co">     * pivot defensiu. La idea és anar</span></span>
<span id="cb135-82"><a href="pac07.html#cb135-82"></a><span class="co">     * recorrent una a una les jugadores</span></span>
<span id="cb135-83"><a href="pac07.html#cb135-83"></a><span class="co">     * del vector i comparar-les amb millorPivot:</span></span>
<span id="cb135-84"><a href="pac07.html#cb135-84"></a><span class="co">     * 1. Si la jugadora del vector és millor</span></span>
<span id="cb135-85"><a href="pac07.html#cb135-85"></a><span class="co">     *    que millorPivot, copiarem les dades</span></span>
<span id="cb135-86"><a href="pac07.html#cb135-86"></a><span class="co">     *    de la jugadora cap a millorPivot.</span></span>
<span id="cb135-87"><a href="pac07.html#cb135-87"></a><span class="co">     * 2. Si millorPivot és millor que la</span></span>
<span id="cb135-88"><a href="pac07.html#cb135-88"></a><span class="co">     *    jugadora del vector, no farem res.</span></span>
<span id="cb135-89"><a href="pac07.html#cb135-89"></a><span class="co">     * En finalitzar el recorregut de totes</span></span>
<span id="cb135-90"><a href="pac07.html#cb135-90"></a><span class="co">     * les jugadores del vector, tindrem que</span></span>
<span id="cb135-91"><a href="pac07.html#cb135-91"></a><span class="co">     * millorPivot contindrà la jugadora</span></span>
<span id="cb135-92"><a href="pac07.html#cb135-92"></a><span class="co">     * que estem buscant.</span></span>
<span id="cb135-93"><a href="pac07.html#cb135-93"></a><span class="co">     * */</span></span>
<span id="cb135-94"><a href="pac07.html#cb135-94"></a>    <span class="cf">for</span> (i=<span class="dv">0</span>; i&lt;MAX_JUGADORES; i++) {</span>
<span id="cb135-95"><a href="pac07.html#cb135-95"></a>        resultat = compararJugadores(millorPivot, vJugadores[i]);</span>
<span id="cb135-96"><a href="pac07.html#cb135-96"></a>        <span class="cf">if</span> (resultat != -<span class="dv">1</span>) {</span>
<span id="cb135-97"><a href="pac07.html#cb135-97"></a>            copiarJugadora(&amp;millorPivot, vJugadores[i]);</span>
<span id="cb135-98"><a href="pac07.html#cb135-98"></a>        }</span>
<span id="cb135-99"><a href="pac07.html#cb135-99"></a>    }</span>
<span id="cb135-100"><a href="pac07.html#cb135-100"></a>    </span>
<span id="cb135-101"><a href="pac07.html#cb135-101"></a>    printf(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Millor opció com a pivot defensiu : &quot;</span>);</span>
<span id="cb135-102"><a href="pac07.html#cb135-102"></a>    mostrarJugadora(millorPivot);</span>
<span id="cb135-103"><a href="pac07.html#cb135-103"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb135-104"><a href="pac07.html#cb135-104"></a>}</span>
<span id="cb135-105"><a href="pac07.html#cb135-105"></a></span>
<span id="cb135-106"><a href="pac07.html#cb135-106"></a><span class="co">/* Implementació de les accions */</span></span>
<span id="cb135-107"><a href="pac07.html#cb135-107"></a><span class="dt">void</span> llegirJugadora(tJugadora *j) {</span>
<span id="cb135-108"><a href="pac07.html#cb135-108"></a>    <span class="dt">int</span> intentats;</span>
<span id="cb135-109"><a href="pac07.html#cb135-109"></a>    <span class="dt">int</span> encertats;</span>
<span id="cb135-110"><a href="pac07.html#cb135-110"></a>    printf(<span class="st">&quot;Introdueix les dades de la nova jugadora: </span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb135-111"><a href="pac07.html#cb135-111"></a>    printf(<span class="st">&quot;</span><span class="sc">\t</span><span class="st">Nom: &quot;</span>);</span>
<span id="cb135-112"><a href="pac07.html#cb135-112"></a>    scanf(<span class="st">&quot;%s&quot;</span>, j-&gt;nom);</span>
<span id="cb135-113"><a href="pac07.html#cb135-113"></a>    printf(<span class="st">&quot;</span><span class="sc">\t</span><span class="st">Cognom: &quot;</span>);</span>
<span id="cb135-114"><a href="pac07.html#cb135-114"></a>    scanf(<span class="st">&quot;%s&quot;</span>, j-&gt;cognom);</span>
<span id="cb135-115"><a href="pac07.html#cb135-115"></a>    printf(<span class="st">&quot;</span><span class="sc">\t</span><span class="st">&gt;&gt; Promigs per partit:</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb135-116"><a href="pac07.html#cb135-116"></a>    printf(<span class="st">&quot;</span><span class="sc">\t</span><span class="st">Rebots: &quot;</span>);</span>
<span id="cb135-117"><a href="pac07.html#cb135-117"></a>    scanf(<span class="st">&quot;%f&quot;</span>, &amp;j-&gt;rebots);</span>
<span id="cb135-118"><a href="pac07.html#cb135-118"></a>    printf(<span class="st">&quot;</span><span class="sc">\t</span><span class="st">Taps: &quot;</span>);</span>
<span id="cb135-119"><a href="pac07.html#cb135-119"></a>    scanf(<span class="st">&quot;%f&quot;</span>, &amp;j-&gt;taps);</span>
<span id="cb135-120"><a href="pac07.html#cb135-120"></a>    printf(<span class="st">&quot;</span><span class="sc">\t</span><span class="st">Tirs lliures intentats: &quot;</span>);</span>
<span id="cb135-121"><a href="pac07.html#cb135-121"></a>    scanf(<span class="st">&quot;%d&quot;</span>, &amp;intentats);</span>
<span id="cb135-122"><a href="pac07.html#cb135-122"></a>    printf(<span class="st">&quot;</span><span class="sc">\t</span><span class="st">Tirs lliures encertats: &quot;</span>);</span>
<span id="cb135-123"><a href="pac07.html#cb135-123"></a>    scanf(<span class="st">&quot;%d&quot;</span>, &amp;encertats);</span>
<span id="cb135-124"><a href="pac07.html#cb135-124"></a>    j-&gt;tirsLliures = percentatgeTirsLliures(intentats, encertats);</span>
<span id="cb135-125"><a href="pac07.html#cb135-125"></a>}</span>
<span id="cb135-126"><a href="pac07.html#cb135-126"></a></span>
<span id="cb135-127"><a href="pac07.html#cb135-127"></a><span class="dt">void</span> mostrarJugadora(tJugadora j) {</span>
<span id="cb135-128"><a href="pac07.html#cb135-128"></a>    printf(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">%s, %s: %.1f rebots, %.1f taps, %.1f%% tirs lliures </span><span class="sc">\n</span><span class="st">&quot;</span>, j.cognom, j.nom, j.rebots, j.taps, j.tirsLliures);</span>
<span id="cb135-129"><a href="pac07.html#cb135-129"></a>}</span>
<span id="cb135-130"><a href="pac07.html#cb135-130"></a></span>
<span id="cb135-131"><a href="pac07.html#cb135-131"></a><span class="dt">void</span> copiarJugadora(tJugadora *desti, tJugadora origen) {</span>
<span id="cb135-132"><a href="pac07.html#cb135-132"></a>    <span class="co">/* Recordem: </span></span>
<span id="cb135-133"><a href="pac07.html#cb135-133"></a><span class="co">     * - si el paràmetre és un punter, l&#39;accessor </span></span>
<span id="cb135-134"><a href="pac07.html#cb135-134"></a><span class="co">     *   d&#39;atributs serà &#39;-&gt;&#39;</span></span>
<span id="cb135-135"><a href="pac07.html#cb135-135"></a><span class="co">     * - si el paràmetre és un valor, l&#39;accessor</span></span>
<span id="cb135-136"><a href="pac07.html#cb135-136"></a><span class="co">     *   d&#39;atributs serà &#39;.&#39;</span></span>
<span id="cb135-137"><a href="pac07.html#cb135-137"></a><span class="co">     */</span></span>
<span id="cb135-138"><a href="pac07.html#cb135-138"></a>    strcpy(desti-&gt;nom, origen.nom);</span>
<span id="cb135-139"><a href="pac07.html#cb135-139"></a>    strcpy(desti-&gt;cognom, origen.cognom);</span>
<span id="cb135-140"><a href="pac07.html#cb135-140"></a>    desti-&gt;rebots = origen.rebots;</span>
<span id="cb135-141"><a href="pac07.html#cb135-141"></a>    desti-&gt;taps = origen.taps;</span>
<span id="cb135-142"><a href="pac07.html#cb135-142"></a>    desti-&gt;tirsLliures = origen.tirsLliures;</span>
<span id="cb135-143"><a href="pac07.html#cb135-143"></a>}</span>
<span id="cb135-144"><a href="pac07.html#cb135-144"></a></span>
<span id="cb135-145"><a href="pac07.html#cb135-145"></a><span class="dt">int</span> compararJugadores(tJugadora j1, tJugadora j2) {</span>
<span id="cb135-146"><a href="pac07.html#cb135-146"></a>    </span>
<span id="cb135-147"><a href="pac07.html#cb135-147"></a>    <span class="co">/* Estem buscant una jugadora que </span></span>
<span id="cb135-148"><a href="pac07.html#cb135-148"></a><span class="co">     * tingui un perfil de pivot defensiu, </span></span>
<span id="cb135-149"><a href="pac07.html#cb135-149"></a><span class="co">     * amb el que agafarem:</span></span>
<span id="cb135-150"><a href="pac07.html#cb135-150"></a><span class="co">     * 1. Aquella que tingui més rebots per partit</span></span>
<span id="cb135-151"><a href="pac07.html#cb135-151"></a><span class="co">     * 2. En cas d&#39;empat de rebots, aquella que</span></span>
<span id="cb135-152"><a href="pac07.html#cb135-152"></a><span class="co">     *    faci més taps per partit</span></span>
<span id="cb135-153"><a href="pac07.html#cb135-153"></a><span class="co">     * 3. En cas d&#39;empat, la que tingui millor</span></span>
<span id="cb135-154"><a href="pac07.html#cb135-154"></a><span class="co">     *    percentatge de tirs lliures</span></span>
<span id="cb135-155"><a href="pac07.html#cb135-155"></a><span class="co">     */</span> </span>
<span id="cb135-156"><a href="pac07.html#cb135-156"></a>    <span class="cf">if</span> (j1.rebots &gt; j2.rebots) {</span>
<span id="cb135-157"><a href="pac07.html#cb135-157"></a>        <span class="cf">return</span> -<span class="dv">1</span>;</span>
<span id="cb135-158"><a href="pac07.html#cb135-158"></a>    } <span class="cf">else</span> {</span>
<span id="cb135-159"><a href="pac07.html#cb135-159"></a>        <span class="cf">if</span> (j1.rebots &lt; j2.rebots) {</span>
<span id="cb135-160"><a href="pac07.html#cb135-160"></a>            <span class="cf">return</span> <span class="dv">1</span>;</span>
<span id="cb135-161"><a href="pac07.html#cb135-161"></a>        } <span class="cf">else</span> {</span>
<span id="cb135-162"><a href="pac07.html#cb135-162"></a>            <span class="co">/* En aquest punt tenim que </span></span>
<span id="cb135-163"><a href="pac07.html#cb135-163"></a><span class="co">             * j1.rebots == j2.rebots,</span></span>
<span id="cb135-164"><a href="pac07.html#cb135-164"></a><span class="co">             * amb el que anem a comparar el següent</span></span>
<span id="cb135-165"><a href="pac07.html#cb135-165"></a><span class="co">             * atribut segons la prioritat definida</span></span>
<span id="cb135-166"><a href="pac07.html#cb135-166"></a><span class="co">             * del perfil pivot defensiu</span></span>
<span id="cb135-167"><a href="pac07.html#cb135-167"></a><span class="co">             */</span></span>
<span id="cb135-168"><a href="pac07.html#cb135-168"></a>            <span class="cf">if</span> (j1.taps &gt; j2.taps) {</span>
<span id="cb135-169"><a href="pac07.html#cb135-169"></a>                <span class="cf">return</span> -<span class="dv">1</span>;</span>
<span id="cb135-170"><a href="pac07.html#cb135-170"></a>            } <span class="cf">else</span> {</span>
<span id="cb135-171"><a href="pac07.html#cb135-171"></a>                <span class="cf">if</span> (j1.taps &lt; j2.taps) {</span>
<span id="cb135-172"><a href="pac07.html#cb135-172"></a>                    <span class="cf">return</span> <span class="dv">1</span>;</span>
<span id="cb135-173"><a href="pac07.html#cb135-173"></a>                } <span class="cf">else</span> {</span>
<span id="cb135-174"><a href="pac07.html#cb135-174"></a>                    <span class="co">/* Afegim la variant de valorar</span></span>
<span id="cb135-175"><a href="pac07.html#cb135-175"></a><span class="co">                     * el percentatge de tirs lliures</span></span>
<span id="cb135-176"><a href="pac07.html#cb135-176"></a><span class="co">                     */</span></span>
<span id="cb135-177"><a href="pac07.html#cb135-177"></a>                    <span class="cf">if</span> (j1.tirsLliures &gt;= j2.tirsLliures) {</span>
<span id="cb135-178"><a href="pac07.html#cb135-178"></a>                        <span class="cf">return</span> -<span class="dv">1</span>;</span>
<span id="cb135-179"><a href="pac07.html#cb135-179"></a>                    } <span class="cf">else</span> {</span>
<span id="cb135-180"><a href="pac07.html#cb135-180"></a>                        <span class="cf">return</span> <span class="dv">1</span>;</span>
<span id="cb135-181"><a href="pac07.html#cb135-181"></a>                    }</span>
<span id="cb135-182"><a href="pac07.html#cb135-182"></a>                }</span>
<span id="cb135-183"><a href="pac07.html#cb135-183"></a>            }</span>
<span id="cb135-184"><a href="pac07.html#cb135-184"></a>        }</span>
<span id="cb135-185"><a href="pac07.html#cb135-185"></a>    }</span>
<span id="cb135-186"><a href="pac07.html#cb135-186"></a>}</span>
<span id="cb135-187"><a href="pac07.html#cb135-187"></a></span>
<span id="cb135-188"><a href="pac07.html#cb135-188"></a><span class="dt">float</span> percentatgeTirsLliures(<span class="dt">int</span> intentats, <span class="dt">int</span> encertats) {</span>
<span id="cb135-189"><a href="pac07.html#cb135-189"></a>    <span class="cf">return</span> ((<span class="dt">float</span>)encertats/intentats)*<span class="fl">100.0</span>;</span>
<span id="cb135-190"><a href="pac07.html#cb135-190"></a>}</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="pac06.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="pac08.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/07-PAC07.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["FAQ_Laboratori_FP.pdf", "FAQ_Laboratori_FP.epub"],
"toc": {
"collapse": "section",
"toc": true,
"toc_float": true,
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
